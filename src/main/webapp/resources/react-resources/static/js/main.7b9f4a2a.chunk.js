(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},143:function(e,t,a){e.exports=a(373)},148:function(e,t,a){},150:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},151:function(e,t,a){},158:function(e,t,a){},160:function(e,t,a){},162:function(e,t,a){},164:function(e,t,a){},167:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){},174:function(e,t,a){},176:function(e,t,a){},178:function(e,t,a){},181:function(e,t,a){},183:function(e,t,a){},185:function(e,t,a){},187:function(e,t,a){},189:function(e,t,a){},191:function(e,t,a){},230:function(e,t,a){},235:function(e,t,a){},373:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(138),i=a.n(o),s=(a(148),a(1)),l=a(2),c=a(4),u=a(3),p=a(5),d=a(7),m=(a(150),a(151),a(80),"${contextPath}"==document.getElementById("rootPath").value),h=m?"/universal-good-shop/":document.getElementById("rootPath").value+"/",f=function(){return m?"http://localhost:8080".concat(h):h},g=f()+"WebAsset/Shop1/Images/",y=f()+"res/img/",v=a(374),b=a(9),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fontColor=a.props.applicationProfile.fontColor,a.backgroundColor=a.props.applicationProfile.color,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=[];return null!=this.props.menus&&(t=this.props.menus),r.a.createElement("div",{className:"side-menu"},r.a.createElement("ul",{className:"menu-ul ",style:{backgroundColor:this.backgroundColor}},r.a.createElement(S,{loggedUser:this.props.loggedUser,fontColor:this.fontColor}),t.map(function(t,a){return r.a.createElement(C,{key:"menu_"+a,fontColor:e.fontColor,backgroundColor:e.backgroundColor,menu:t,cart:e.props.cart,activeCode:e.props.activeCode,handleMenuCLick:e.props.handleMenuCLick})})," "))}}]),t}(n.Component);function S(e){return null==e.loggedUser?r.a.createElement(r.a.Fragment,null):r.a.createElement("li",{id:"user-link"},r.a.createElement(O,{user:e.loggedUser}),r.a.createElement("div",{style:{color:e.fontColor},className:"fill"},"Welcome, ",e.loggedUser.displayName," "))}function O(e){var t={margin:"auto",textAlign:"center",backgroundImage:"url("+g+"/"+e.user.profileImage+")",backgroundSize:"50px 50px",width:"50px",height:"50px",borderRadius:"25px"};return r.a.createElement("div",{style:{padding:"5px"}},r.a.createElement("div",{style:t}))}function C(e){var t="fa fa-store-alt",a=e.menu,n={color:e.fontColor},o=e.activeCode==a.code,i="cart"==a.code,s=o?{backgroundColor:e.fontColor}:{};o&&(n.color=e.backgroundColor),a.menuClass&&(t=a.menuClass);var l=i?r.a.createElement("span",null,a.name,"\xa0",r.a.createElement("span",{class:"badge badge-warning"},function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a].count;return t}(e.cart)," ")):r.a.createElement("span",null,a.name);return"#"==a.url?r.a.createElement("li",{style:s,onClick:function(){return e.handleMenuCLick(a)},className:o?"active":"",key:a.name,id:a.name}," ",r.a.createElement(v.a,{key:a.name+"LINK",className:"App-link",to:"#"},r.a.createElement("div",{style:n,className:"fill"},r.a.createElement("i",{className:t}),"\xa0",l," "))):r.a.createElement("li",{style:s,className:o?"menu-active":"",key:a.name,id:a.name}," ",r.a.createElement(v.a,{key:a.name+"LINK",className:"App-link",to:a.url},r.a.createElement("div",{style:n,className:"fill"},r.a.createElement("i",{className:t}),"\xa0",l," ")))}var w=Object(b.b)(function(e){return{applicationProfile:e.userState.applicationProfile,cart:e.shopState.cart,loggedUser:e.userState.loggedUser}})(E),j=(a(158),"logout"),D=(a(160),function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.title?this.props.title:"",t=this.props.description?this.props.description:"",a=this.props.iconClass?this.props.iconClass:"fas fa-home";return r.a.createElement("div",{style:{color:this.props.applicationProfile.color}},r.a.createElement("h2",null,r.a.createElement("i",{className:a}),"\xa0",e),r.a.createElement("p",null,t),this.props.children)}}]),t}(n.Component)),k=Object(b.b)(function(e){return{applicationProfile:e.userState.applicationProfile}})(D),N=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.applicationProfile?this.props.applicationProfile:{};document.title=e.name,this.props.setMenuCode("home")}},{key:"render",value:function(){var e=this.props.applicationProfile?this.props.applicationProfile:{};return r.a.createElement("div",{className:"section-container"},r.a.createElement(k,{title:e.name,description:e.welcomingMessage}),r.a.createElement("div",{style:{textAlign:"center"},className:"article-content"},r.a.createElement("img",{width:"800",src:g+"/"+e.backgroundUrl})))}}]),t}(n.Component),x=1,I=function(){var e;return e=(new Date).getUTCMilliseconds(),++x+"-"+e};function M(e){if(""==e||null==e)return"0";var t=""+e,a="";if(t.length>3){for(var n=0,r=t.length-1;r>0;r--)a=t[r]+a,3==++n&&(a="."+a,n=0);a=t[0]+a}else a=e;return a}var P=function(e,t){return null!=e&&e.length>0&&null!=e[t]},_=["January","Ferbuary","March","April","May","June","July","August","September","October","November","December"],F=function(e,t){return null==e||null==t?"-":_[e-1]+" "+t},T=a(8),L=(a(162),function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="btn-group";return"vertical"==this.props.orientation&&(e+="-vertical"),this.props.className&&(e+=" "+this.props.className),r.a.createElement("div",{style:this.props.style?this.props.style:{},className:e,role:"group"},this.props.buttonsData.map(function(e){var t="btn btn-outline-secondary btn-sm";return null!=e.status&&(t="btn btn".concat("-").concat(e.status).concat(" ").concat(e.className)),r.a.createElement("button",{style:Object(T.a)({},e.style),className:t,key:"btnKey-"+I(),onClick:e.onClick},e.text)}))}}]),t}(n.Component)),A=(a(164),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleEdit=function(){a.props.handleEdit&&!a.props.disabled&&a.props.handleEdit(a.props.identifier)},a.handleDelete=function(){a.props.handleDelete&&a.props.handleDelete(a.props.identifier)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.values;if(null==e)e=new Array;else{for(var t=new Array,a=0;a<e.length;a++){var n=e[a];if(this.props.CS||this.props.RS){var o=P(this.props.CS,a)?this.props.CS[a]:1,i=P(this.props.RS,a)?this.props.RS[a]:1;t.push({value:n,colspan:o,rowspan:i})}else t.push({value:n})}e=t}var s=this.props.style?this.props.style:{borderTop:"solid 1px gray"},l=r.a.createElement("td",{style:s},r.a.createElement(L,{buttonsData:[{id:"k-btn-edit-"+this.props.identifier,status:"warning btn-sm",onClick:this.handleEdit,text:r.a.createElement("i",{className:"fas fa-edit"})},{id:"k-btn-dlt-"+this.props.identifier,status:"danger btn-sm",onClick:this.handleDelete,text:r.a.createElement("i",{className:"fas fa-trash"})}]})),c=this.props.disabled;return 1==c&&(l=null,s=this.props.style?this.props.style:{}),r.a.createElement("tr",{className:c?"":"crud-row",style:s,key:I(),valign:this.props.valign,onClick:this.handleEdit},r.a.createElement(U,{values:e,trStyle:s}),l)}}]),t}(n.Component)),U=function(e){return r.a.createElement(r.a.Fragment,null,e.values.map(function(t){var a=null!=t.value&&t.value.constructor==Object&&!r.a.isValidElement(t.value)?JSON.stringify(t.value):t.value;return r.a.createElement("td",{key:"td-key-"+I(),id:"td-"+I(),style:e.trStyle,rowSpan:t.rowspan,colSpan:t.colspan},a)}))},q=A,R=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=[];this.props.rows&&(t=this.props.rows);var a="table",n=this.props.style?this.props.style:{};return this.props.className&&(a+=" "+this.props.className),r.a.createElement("table",{style:n,className:a},r.a.createElement("tbody",null,t.map(function(t){var a=0!=t.disabled;return r.a.createElement(q,{style:t.style,valign:e.props.valign?e.props.valign:"top",RS:t.RS,identifier:t.identifier?t.identifier:"0000",handleEdit:t.handleEdit,handleDelete:t.handleDelete,CS:t.CS,values:t.values?t.values:[],key:I(),disabled:a})})))}}]),t}(n.Component),B=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="About Us",this.props.setMenuCode("about")}},{key:"render",value:function(){var e=this.props.applicationProfile;return r.a.createElement("div",{className:"section-container about-section  "},r.a.createElement(k,{title:"About Us",iconClass:"fas fa-address-book"}),r.a.createElement("div",{className:" abount-content",style:{padding:"5px",width:"90%",fontFamily:"Consolas",margin:"5px"}},r.a.createElement(R,{rows:[{values:["Name",e.name]},{values:["Version","1.0.0"]},{values:["Description",e.shortDescription]}]}),r.a.createElement("h2",null,"Powered By"),r.a.createElement("img",{style:{width:"80%"},src:y+"POWERED_BY.png"})))}}]),t}(n.Component),K=a(378),Y=a(376),V=a(375),J=f(),W=J+"api/public/",G=J+"api/entity/",z=J+"api/account/",H=J+"api/admin/",Q=J+"api/transaction/",X=function(e,t){t.startLoading();var a={type:"fetch_supplier_list",payload:{entity:"supplier",filter:{limit:10,page:e.page,fieldsFilter:{name:e.name},orderBy:e.orderby,orderType:e.ordertype}},meta:{type:"fetch_supplier_list",url:W.concat("get"),app:t}};return null!=e.categoryId&&(a.payload.filter.fieldsFilter["category,id[EXACTS]"]=e.categoryId),a},Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=function(){a.props.onClick&&a.props.onClick()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.style?this.props.style:{},t="input-field ";return this.props.className&&(t+=" "+this.props.className),this.props.onClick&&(t+=" clickable"),r.a.createElement("div",{onClick:this.onClick,style:e,className:t},r.a.createElement("label",null,this.props.text))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=function(){a.props.onClick&&a.props.onClick()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t;return e=this.props.className?"card "+this.props.className:"card",t=this.props.icon?r.a.createElement("img",{src:this.props.icon,height:"200",className:"card-img-top"}):r.a.createElement("div",{className:"card-header"},this.props.title),r.a.createElement("div",{onClick:this.onClick,style:Object(T.a)({},this.props.style,{marginRight:"5px"}),className:e},t,r.a.createElement("div",{className:"card-body"},this.props.icon?r.a.createElement("div",{className:"card-title"},this.props.title):null,this.props.content))}}]),t}(n.Component);function ee(e){var t=e.product;return r.a.createElement("div",null,r.a.createElement(Z,{style:{fontFamily:"Arial Narrow",fontWeight:"bolder"},text:r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-tags"}),"\xa0",M(t.price)+",00")}),r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-cubes"}),"\xa0",M(t.count),"\xa0",t.unit.name),r.a.createElement(Z,{text:t.category.name}))}var te=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product;if(!t||!t.category||!t.unit)return r.a.createElement("h3",null,"Please wait..");var a=t.imageUrl,n=g+a.split("~")[0],o=r.a.createElement(ee,{product:t}),i=r.a.createElement(Z,{className:" clickable ",text:t.name,onClick:function(){return e.props.getProductDetail(t.code)}});return r.a.createElement($,{style:{width:"250px",margin:"auto"},className:"grid-item",title:i,icon:n,content:o})}}]),t}(n.Component),ae=(a(82),a(167),a(169),function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("tr",{className:"detail-item"},r.a.createElement("td",null,r.a.createElement("img",{src:g+this.props.icon,width:"50",height:"50"})),r.a.createElement("td",null,this.props.id," . ",this.props.name," ",r.a.createElement("br",null),r.a.createElement("span",{className:"link"},this.props.desc)))}}]),t}(n.Component)),ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=function(){a.props.onClick&&a.props.onClick()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="btn btn-secondary";return null!=this.props.status&&(e="btn ".concat("btn-").concat(this.props.status)),r.a.createElement("div",null,r.a.createElement("button",{style:Object(T.a)({},this.props.style,{margin:"1px"}),className:e,id:this.props.id,onClick:this.onClick},this.props.text))}}]),t}(n.Component);a(171);function re(e){return{backgroundImage:"url("+e+")",backgroundSize:"400px 300px"}}var oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={index:0},a.prev=function(){if(null!=a.props.imageUrls){var e=a.state.index;e<=0?e=a.props.imageUrls.length-1:e--,a.setState({index:e})}},a.next=function(){if(null!=a.props.imageUrls){var e=a.state.index;e>=a.props.imageUrls.length-1?e=0:e++,a.setState({index:e})}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=null;if(this.props.imageUrls)for(var t=0;t<this.props.imageUrls.length;t++){var a=this.props.imageUrls[t];console.debug(t,"this.state.index: ",this.state.index,"Image carousel URL",a),t==this.state.index&&(r.a.createElement("img",{src:a,className:"carousel-item"}),e=a)}return r.a.createElement("div",{className:"carousel rounded",style:re(e)},r.a.createElement(R,{style:{backgroundColor:"rgba(150,150,150,0.5"},className:"carousel-navigation",rows:[{values:[r.a.createElement(ne,{text:r.a.createElement("i",{className:"fas fa-chevron-left"}),id:"btn-prev-img",onClick:this.prev}),r.a.createElement(Z,{text:this.state.index+1+"/"+(this.props.imageUrls?this.props.imageUrls.length:1)}),r.a.createElement(ne,{text:r.a.createElement("i",{className:"fas fa-chevron-right"}),id:"btn-next-img",onClick:this.next})]}]}))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={supplierShown:!1,supplierPage:1,product:null,updated:new Date},a.refresh=function(){console.log("++reresh++"),a.setState({updated:new Date})},a.goBack=function(){a.props.setDetailMode(!1)},a.showSupplierList=function(e){a.setState({supplierShown:e}),a.setState({product:a.props.product})},a.loadMoreSupplier=function(e,t){e++,a.setState({supplierPage:e}),a.props.loadMoreSupplier(a.state.supplierPage,t,Object(d.a)(Object(d.a)(a)))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({supplierShown:!1}),document.title="Product Detail"}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.product;if(null==t)return r.a.createElement(k,{title:"Please wait..",iconClass:"fas fa-info-circle"});var a=r.a.createElement("p",null),n=!!this.state.supplierShown;return n&&t.suppliers&&(a=r.a.createElement("div",{className:"detail-supplier-container"},r.a.createElement("h3",null,"Supplier List"),r.a.createElement("table",{className:"supplier-container"},r.a.createElement("tbody",null,t.suppliers.map(function(e){return r.a.createElement(ae,{desc:e.website,id:"supp-"+e.id,key:"supp-"+e.id,icon:e.iconUrl,name:e.name})}))),this.state.supplierPage,r.a.createElement(ne,{id:"btn-show-more",onClick:function(){return e.loadMoreSupplier(e.state.supplierPage,t.id)},text:"Show More"}))),r.a.createElement("div",{className:"section-container"},r.a.createElement(k,{title:t.name,iconClass:"fas fa-info-circle",description:t.description}),r.a.createElement("div",{className:"product-desc"},r.a.createElement(R,{disabled:!0,rows:[{values:[r.a.createElement(se,{product:t})],CS:[2]},{values:["Price",M(t.price)]},{values:["Item(s)",M(t.count)+" "+(t.unit?t.unit.name:"")]},{values:["Category",t.category.name]}]}),r.a.createElement(L,{buttonsData:[{id:"btn-back",onClick:this.goBack,text:"Back"},{id:"btn-show-supplier",status:"success",onClick:function(){return e.showSupplierList(!n||!t.suppliers)},text:n&&t.suppliers?"Hide suppliers":"Show suppliers"}]})),a)}}]),t}(n.Component);function se(e){var t=e.product;if(t&&t.imageUrl){for(var a=new Array,n=0;n<t.imageUrl.split("~").length;n++)a.push(g+t.imageUrl.split("~")[n]);return r.a.createElement(oe,{imageUrls:a})}return null}var le=Object(b.b)(function(e){return console.log("Catalog State to props: ",e),{suppliers:e.shopState.suppliers}},function(e){return{loadMoreSupplier:function(t,a,n){return e(function(e,t,a){return a.props.app.startLoading(),{type:"load_more_supplier",payload:{filter:{page:e,fieldsFilter:{productId:t}}},meta:{type:"load_more_supplier",url:W.concat("moresupplier"),referrer:a}}}(t,a,n))}}})(ie),ce=function(e){return document.getElementById(e)},ue=function(){for(var e=document.getElementsByTagName("input"),t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var r=null!=a;e:for(var o=0;o<e.length;o++){if(r)for(var i=0;i<a.length;i++)if(e[o].id==a[i])continue e;"text"==e[o].type&&(e[o].value=""),"number"==e[o].type&&(e[o].value=0)}};var pe=function(){for(var e=0;e<arguments.length;e++)if(null==ce(e<0||arguments.length<=e?void 0:arguments[e]))return console.log("component with id:",e<0||arguments.length<=e?void 0:arguments[e],"does not exist"),!1;return!0},de=function(e,t){e=Math.ceil(e),t||(t=0);var a=new Array,n=t-3<0?0:t-3,r=t+3>e?e:t+3;0!=n&&a.push({text:1,value:0});for(var o=n;o<r;o++)a.push({text:o+1,value:o});return r!=e&&a.push({text:e,value:e-1}),a},me=function(){return[(new Date).getMonth()+1,(new Date).getFullYear()]},he=function(){for(var e=[],t=1;t<=12;t++)e.push({value:t,text:t});return e},fe=function(e,t){for(var a=[],n=e;n<=t;n++)a.push({value:n,text:n});return a},ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleKeyup=function(){a.props.onKeyUp&&a.props.id&&a.props.onKeyUp(ce(a.props.id).value,a.props.id)},a.onChange=function(){"date"==a.props.type&&a.handleKeyup(),a.props.id&&"checkbox"==a.props.type&&a.props.onChange(a.props.id),a.props.onChange&&a.props.id&&a.props.onChange()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.value&&this.props.id&&(ce(this.props.id).value=this.props.value)}},{key:"render",value:function(){var e=this.props.type?this.props.type:"text",t=this.props.placeholder?this.props.placeholder:"",a=this.props.name?this.props.name:"",n=this.props.style?this.props.style:{},o=r.a.createElement("input",{style:n,className:"checkbox"==e?"":"form-control",name:a,key:"KEY-input-"+this.props.id,id:this.props.id,type:e,onKeyUp:this.handleKeyup,placeholder:t,checked:this.props.checked,onChange:this.onChange});return 1==this.props.disabled&&(o=r.a.createElement("input",{style:n,className:"form-control",onChange:this.onChange,name:a,key:"KEY-input-"+this.props.id,checked:this.props.checked,id:this.props.id,type:e,onKeyUp:this.handleKeyup,placeholder:t,disabled:!0})),"textarea"==e&&(o=r.a.createElement("textarea",{style:n,className:"form-control",name:a,key:"KEY-input-"+this.props.id,id:this.props.id,type:e,onKeyUp:this.handleKeyup,placeholder:t,onChange:this.onChange,checked:this.props.checked})),r.a.createElement("div",{className:"input-field"},o,"radio"==this.props.type||"checkbox"==this.props.type?r.a.createElement("span",{style:{fontSize:"0.9em",margin:"4px"}},this.props.text," "):"")}}]),t}(n.Component),ye=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[];this.props.buttonsData&&(e=this.props.buttonsData);for(var t=0;t<e.length;t++){var a=e[t];e[t].onClick=a.buttonClick,e[t].key=I()+"_nav",a.active&&(e[t].style={backgroundColor:"lightsteelblue"})}return r.a.createElement(L,{buttonsData:e})}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleOnChange=function(e){a.props.onChange?(a.props.onChange(ce(a.props.id).value),console.log("Select box ",a.props.id," CHANGED VALUE: ",ce(a.props.id).value)):console.log("Not supported")},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.value&&(ce(this.props.id).value=this.props.value)}},{key:"render",value:function(){var e=[];return this.props.options&&(e=this.props.options),r.a.createElement("div",{className:"input-field "},this.props.label?r.a.createElement("label",{className:"select-label"},this.props.label):null,r.a.createElement("select",{value:this.props.defaultValue?this.props.defaultValue:"",className:"form-control",id:this.props.id,onChange:this.handleOnChange},e.map(function(e){return r.a.createElement("option",{key:"opt_"+I(),value:e.value},e.text)})))}}]),t}(n.Component),be=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[];this.props.items&&(e=this.props.items);var t=this.props.cols?this.props.cols:e.length,a="auto ".repeat(t);return r.a.createElement("div",{style:Object(T.a)({},this.props.style,{display:"grid",verticalAlign:"middle",gridTemplateColumns:a})},e.map(function(e,t){return r.a.createElement("div",{key:"div-"+t},e)}))}}]),t}(n.Component),Ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={catalogData:{entities:[]},limit:10,totalData:0,products:[],catalogPage:0,firstLoad:!0,requestOrderBy:null,requestOrderType:null,requestProductName:"",requestWithStock:null,requestCategoryId:null,selectedProduct:null,buttonCount:0,enableShopping:!1,activeId:null},a.focusToActiveField=function(){ce(a.state.activeId)&&ce(a.state.activeId).focus()},a.getProductInCart=function(e){for(var t=0;t<a.props.cart.length;t++){var n=a.props.cart[t];if(n.product.id==e)return n.index=t,n}return{index:-1,count:0}},a.clearCart=function(){var e=a.props;a.props.app.confirmDialog("Are you sure clear shopping list?",function(t){e.updateCart([],e.app)},null)},a.addToCart=function(e,t){var n=a.props.cart,r=a.getProductInCart(e.id).index;if(r>=0){if(n[r].count+t<0)return;var o=n[r];o.count+=t,n[r]=o}else 0!=t&&n.push({product:e,count:t});a.props.updateCart(n,a.props.app)},a.getProductCatalog=function(e){console.log("will go to page: ",e),a.props.getProductCatalog({page:e,name:a.state.requestProductName,orderby:a.state.requestOrderBy,ordertype:a.state.requestOrderType,categoryId:a.state.requestCategoryId,withStock:a.state.requestWithStock},a.props.app),a.setState({catalogPage:e,totalData:a.props.catalogData.totalData})},a.handleOrderChange=function(e){if(null==e||"00"==e||0==e.length||2!=e.split("-").length)return a.setState({requestOrderBy:null}),void a.setState({requestOrderType:null});var t=e.split("-");a.setState({requestOrderBy:t[0]}),a.setState({requestOrderType:t[1]})},a.handleInputNameChange=function(e,t){console.log("==input name changed==",t),a.setState({requestProductName:e,activeId:t})},a.clearField=function(){a.setState({requestProductName:""}),a.setState({requestOrderBy:null,requestOrderType:null}),a.setState({requestCategoryId:null}),a.props.app.infoDialog("filter has been cleared, please push the search button to take effect")},a.getProductDetail=function(e){console.log("Detail of: ",e),a.props.removeEntity(),a.props.getProductDetail(e,a.props.app),a.props.setDetailMode(!0)},a.setDetailMode=function(e){document.title="Product Catalog",a.props.setDetailMode(e),a.props.removeEntity()},a.handleCategoryChange=function(e){a.setState({catalogPage:0}),null!=e&&"00"!=e?a.setState({requestCategoryId:e}):a.setState({requestCategoryId:null})},a.next=function(){var e=a.state.catalogPage;e>=Math.floor(a.props.catalogData.totalData/a.state.limit)-1?e=0:e++,a.getProductCatalog(e)},a.prev=function(){var e=a.state.catalogPage,t=Math.floor(a.props.catalogData.totalData/a.state.limit);e<=0?e=t-1:e--,a.getProductCatalog(e)},a.handleChangeWithStockOption=function(e){ce(e)&&a.setState({requestWithStock:ce(e).checked})},a.handleChangeEnableShoppingOption=function(e){console.log("ID: ",e),ce(e)&&a.props.app.setEnableShopping(ce(e).checked)},a.generateNavButtonsData=function(){var e=null==a.props.catalogData.entities?[]:a.props.catalogData.entities,t=[];e.length>0&&(t=de(a.props.catalogData.totalData/a.state.limit,a.state.catalogPage));for(var n=[{id:"btn-prev",buttonClick:a.prev,text:"previous"}],r=function(e){var r=t[e],o=r.value==a.state.catalogPage;n.push({id:r.value,active:o,buttonClick:function(){return a.getProductCatalog(r.value)},text:r.text})},o=0;o<t.length;o++)r(o);return n.push({id:"btn-next",buttonClick:a.next,text:"next"}),n},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){document.title="Product Catalog",this.getProductCatalog(this.state.catalogPage),this.props.setMenuCode("catalog"),this.props.getAllProductCategories()}},{key:"componentDidUpdate",value:function(){this.state.firstLoad&&null!=this.props.catalogData.filter&&this.setState({limit:this.props.catalogData.filter.limit,totalData:this.props.catalogData.totalData,firstLoad:!1}),this.focusToActiveField()}},{key:"filterBox",value:function(){var e=this,t=[{value:"00",text:"-all category-"}],a=[{text:r.a.createElement("i",{className:"fa fa-search"}),status:"success",onClick:function(){return e.getProductCatalog(0)},id:"btn-search"},{text:"Clear Filter",status:"warning",onClick:this.clearField,id:"Clear-filter"}];return this.props.productCategories.map(function(e){t.push({value:e.id,text:e.name})}),this.props.enableShopping&&a.push({text:r.a.createElement("span",null,r.a.createElement("i",{className:"fa fa-cart-arrow-down"})),onClick:function(){e.clearCart()},status:"danger",id:"clear-list"}),r.a.createElement("div",{className:"filter-box"},r.a.createElement(be,{cols:3,style:{width:"max-content"},items:[r.a.createElement(ge,{placeholder:"search by product name",value:this.state.requestProductName,onKeyUp:this.handleInputNameChange,type:"search",id:"input-product-name"}),r.a.createElement(ve,{defaultValue:this.state.requestOrderBy+"-"+this.state.requestOrderType,onChange:this.handleOrderChange,options:Oe,id:"select-order"}),r.a.createElement(ve,{defaultValue:this.state.requestCategoryId,onChange:this.handleCategoryChange,options:t,id:"select-category"}),r.a.createElement(L,{style:{margin:"5px"},buttonsData:a}),r.a.createElement("div",{className:"row"},r.a.createElement(ge,{checked:this.state.requestWithStock,onChange:this.handleChangeWithStockOption,type:"checkbox",id:"checkbox-with-stock",text:"Inculde Remaining Stock"}),r.a.createElement(ge,{checked:this.props.enableShopping,onChange:this.handleChangeEnableShoppingOption,type:"checkbox",id:"checkbox-enable-cart",text:"Show Shopping List"}))]}),r.a.createElement("p",null))}},{key:"render",value:function(){var e=this,t=null==this.props.catalogData.entities?[]:this.props.catalogData.entities,a=r.a.createElement("div",{className:"section-container",id:"catalog-main",key:"catalog-main"},r.a.createElement(k,{title:"Catalog Page",iconClass:"fas fa-store-alt",description:"Choose your favourite products"}),r.a.createElement(ye,{buttonsData:this.generateNavButtonsData()}),this.filterBox(),r.a.createElement("div",{className:"row catalog-container"},t.map(function(t){return r.a.createElement(Se,{getProductDetail:e.getProductDetail,getProductInCart:e.getProductInCart,enableShopping:e.props.enableShopping,product:t,addToCart:e.addToCart})})));this.props.detailMode&&(a=r.a.createElement(le,{app:this.props.app,setDetailMode:this.setDetailMode,product:this.props.selectedProduct}));return a}}]),t}(n.Component);function Se(e){var t=r.a.createElement(r.a.Fragment,null),a=e.product;if(e.enableShopping){var n=e.getProductInCart(a.id).count,o=[{text:r.a.createElement("i",{className:"fas fa-sync"}),status:"danger btn-sm",onClick:function(){return e.addToCart(a,-1*n)},id:"btn-add-cart-"+a.id},{text:r.a.createElement("i",{className:"fa fa-minus-circle"}),status:"warning btn-sm",onClick:function(){return e.addToCart(a,-1)},id:"btn-add-cart-"+a.id},{text:n,id:"info-cart-"+a.id,status:"light btn-sm"},{text:r.a.createElement("i",{className:"fa fa-plus-circle"}),status:"success btn-sm",onClick:function(){return e.addToCart(a,1)},id:"btn-reduce-cart-"+a.id}];t=r.a.createElement("div",null,r.a.createElement(L,{buttonsData:o}))}return r.a.createElement("div",{className:"col-md-3",style:{width:"min-content"},key:I()},t,r.a.createElement(te,{getProductDetail:e.getProductDetail,key:a.id,product:a}))}var Oe=[{value:"00",text:"-all order-"},{value:"name-asc",text:"Name [A-Z]"},{value:"name-desc",text:"Name [Z-A]"},{value:"price-asc",text:"Price [cheap]"},{value:"price-desc",text:"Price [expensive]"}],Ce=Object(V.a)(Object(b.b)(function(e){return{catalogData:e.shopState.catalogData,selectedProduct:e.shopState.entity,productCategories:e.shopState.categories,cart:e.shopState.cart}},function(e){return{getProductCatalog:function(t,a){return e(function(e,t){t.startLoading(!0);var a={type:"fetch_product_list",payload:{entity:"product",filter:{limit:10,page:e.page,fieldsFilter:{name:e.name,withStock:e.withStock},orderBy:e.orderby,orderType:e.ordertype}},meta:{type:"fetch_product_list",url:W.concat("get"),app:t}};return null!=e.categoryId&&(a.payload.filter.fieldsFilter["category,id[EXACTS]"]=e.categoryId),a}(t,a))},getProductDetail:function(t,a){return e(function(e,t){return t.startLoading(!0),{type:"fetch_product_detail",payload:{entity:"product",filter:{limit:1,exacts:!0,contains:!1,fieldsFilter:{code:e,withStock:!0,withSupplier:!0}}},meta:{type:"fetch_product_detail",url:W.concat("get"),app:t}}}(t,a))},removeEntity:function(){return e({type:"remove_shop_entity",payload:{},meta:{type:"remove_shop_entity"}})},getAllProductCategories:function(){return e({type:"all_product_categories",payload:{entity:"category",filter:{limit:0,page:0,orderBy:null,orderType:null,fieldsFilter:{}}},meta:{type:"all_product_categories",url:G.concat("get")}})},updateCart:function(t,a){return e(function(e,t){return{type:"update_cart",payload:{cart:e,app:t},meta:{type:"update_cart"}}}(t,a))}}})(Ee)),we=a(140),je=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.status?this.props.status:"secondary";return r.a.createElement("div",{className:"alert alert-"+e,role:"alert"},this.props.text)}}]),t}(n.Component),De=(a(174),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={username:null,password:null,showMessageLoginFailed:!1},a.handleUsername=function(e){a.setState({username:e})},a.handlePassword=function(e){a.setState({password:e})},a.doLogin=function(){console.log("u:",a.state.username,",p:",a.state.password),a.props.performLogin(ce("username-field").value,ce("password-field").value,a.props.app)},a.endMessage=function(){a.setState({showMessageLoginFailed:!1})},a.getLoggedUser=function(){a.props.getLoggedUser(a.props.app)},a.validateLoginStatus=function(){1==a.props.loginStatus&&(console.info("Login success! Redirect to dashboard"),a.getLoggedUser(),a.props.history.push("/dashboard"))},a.message=function(){return r.a.createElement("p",null,a.props.loginFailed?r.a.createElement(je,{endMessage:a.endMessage,status:"danger",text:"Login Failed"}):"")},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.validateLoginStatus(),this.props.setMenuCode("login"),document.title="Login"}},{key:"componentDidUpdate",value:function(){this.validateLoginStatus()}},{key:"render",value:function(){return r.a.createElement("div",{className:"section-container"},r.a.createElement(k,{title:"Login Page",iconClass:"fas fa-sign-in-alt"}),r.a.createElement(this.message,null),r.a.createElement("div",{className:"login-container card"},r.a.createElement("div",{className:"card-header"},"Login"),r.a.createElement("div",{className:"card-body"},r.a.createElement(Z,{text:"Username"}),r.a.createElement(ge,{id:"username-field",onKeyUp:this.handleUsername}),r.a.createElement(Z,{text:"Password"}),r.a.createElement(ge,{id:"password-field",type:"password",onKeyUp:this.handlePassword}),r.a.createElement(ne,{style:{margin:"5px"},id:"btn-login",status:"primary",onClick:this.doLogin,text:"Login"}))))}}]),t}(n.Component)),ke=Object(we.a)(Object(b.b)(function(e){return{loginStatus:e.userState.loginStatus,loginFailed:e.userState.loginFailed,loggedUser:e.userState.loggedUser,loginAttempt:e.userState.loginAttempt}},function(e){return{performLogin:function(t,a,n){return e(function(e,t,a){return a.startLoading(),{type:"do_login",payload:{user:{username:e,password:t}},meta:{type:"do_login",url:z.concat("login"),app:a}}}(t,a,n))},getLoggedUser:function(t){return e(function(e){return e.startLoading(),{type:"get_logged_user",payload:{},meta:{type:"get_logged_user",url:z.concat("user"),app:e}}}(t))}}})(De)),Ne=(a(176),a(178),function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.tabsData?this.props.tabsData:[];"min-content ".repeat(e.length);return r.a.createElement("ul",{className:"nav nav-tabs"},e.map(function(e,t){return r.a.createElement("li",{key:"tab"+t,className:"nav-item"},r.a.createElement("a",{href:"#",className:e.active?"nav-link active":"nav-link",onClick:e.onClick?e.onClick:function(){}},e.text))}))}}]),t}(r.a.Component)),xe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).goToMenu=function(e){a.props.goToMenu(e)},a.isActive=function(e){return a.props.currentMenu==e},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="Dashboard"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"dashboard-menu"},r.a.createElement(Ne,{style:{whiteSpace:"nowrap"},tabsData:[{onClick:function(){return e.goToMenu("main")},active:this.isActive("main"),text:"Home"},{onClick:function(){return e.goToMenu("trxIn")},active:this.isActive("trxIn"),text:"Purchasing"},{onClick:function(){return e.goToMenu("trxOut")},active:this.isActive("trxOut"),text:"Selling"},{onClick:function(){return e.goToMenu("cashflow")},active:this.isActive("cashflow"),text:"Cashflow"},{onClick:function(){return e.goToMenu("productSales")},active:this.isActive("productSales"),text:"Product Sales"}]}))}}]),t}(n.Component),Ie=(a(54),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).headers=function(){return 1==a.props.disabled?["No","Flow ID","Product Name","Expiry Date","Quantity","Price @Item","Total Price","Reff Stock ID"]:["No","Flow ID","Product Name","Expiry Date","Quantity","Price @Item","Total Price","Reff Stock ID","Option"]},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=1,a=this.headers(),n=this.props.productFlows.map(function(a){var n=a.product?a.product:{},o=e.props.purchasing?a.price:n.price,i=a.count*n.price,s=M(a.count),l=M(o)+",00",c=M(i)+",00",u=[t,a.id,n.name,a.expiryDate,s,l,c,a.flowReferenceId];return t++,r.a.createElement(q,{disabled:e.props.disabled,handleDelete:e.props.handleDelete,handleEdit:e.props.handleEdit,key:I()+"-row-trx",identifier:a.entityId,values:u})});return r.a.createElement("div",null,r.a.createElement("table",{className:"table",style:{}},r.a.createElement("thead",null,r.a.createElement("tr",{key:I()+"-stock"},a.map(function(e){return r.a.createElement("th",{key:I()+"-th"},e," ")})),n)))}}]),t}(n.Component));a(181);function Me(e){return e.realtime?r.a.createElement("div",{className:"progress-bar progress-bar-striped",role:"progressbar",style:{width:e.progress+"%",transitionDuration:"300ms"}}):r.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:!0},r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),r.a.createElement("span",{className:" "},"Loading..."))}var Pe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={timer:130,intervalId:0},a.update=function(){a.state.timer<0&&clearInterval(a.state.intervalId),console.log("tick"),a.setState({timer:a.state.timer-1}),a.state.timer<0&&a.props.endMessage&&a.props.endMessage()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(1==this.props.withTimer){var e=setInterval(this.update,1,null);this.setState({intervalId:e})}}},{key:"render",value:function(){var e="message message-"+this.props.type,t=(this.props.text,{});return 1==this.props.realtime&&(e="message-loading progress",r.a.createElement("span",{className:"loader"},this.props.progress+"%"),t.zIndex=100),r.a.createElement("div",{style:t,className:e},r.a.createElement(Me,{progress:this.props.progress,realtime:this.props.realtime}))}}]),t}(n.Component);function _e(e){return r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))}var Fe=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){"-".repeat(77);var e=r.a.createElement(_e,null),t={};if(this.props.transactionData&&this.props.transactionData.user){var a=this.props.transactionData;t="OUT"==a.type?{id:"trx_customer",values:["Customer",a.customer.name]}:{id:"trx_supplier",values:["Supplier",a.supplier.name]},e=r.a.createElement(R,{disabled:!0,rows:[{id:"trx_code",values:["Code",a.code]},{id:"trx_date",values:["Date",new String(new Date(a.transactionDate))]},{id:"trx_type",values:["Type",a.type]},t]})}return r.a.createElement("div",{className:"transaction-receipt paper-shadow"},r.a.createElement("h2",null,"Transaction ",this.props.status),e)}}]),t}(n.Component),Te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hover:!1},a.onHover=function(e){a.props.onHover&&a.props.onHover(a.props.index)},a.unHover=function(e){a.setState({hover:!1})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{onMouseLeave:this.unHover,onMouseOver:this.onHover},this.props.text)}}]),t}(n.Component);a(183);function Le(e){var t="";if(e.focus&&e.dropdownList&&e.dropdownList.length>0){var a=e.dropdownList;t=r.a.createElement("div",{className:"dropdown"},a.map(function(t,a){var n="dropdown-item";return e.hoverIndex==a&&(n+=" dropdown-item-hovered"),r.a.createElement("div",{id:I(),key:"dropdown-xx-"+I(),onClick:function(){return e.onSelect(t.value,t.text)},style:{position:"relative"},className:n},r.a.createElement(Te,{onHover:e.onHover,index:a,text:t.text}))}))}return t}var Ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={focus:!0,hover:!1,hoverIndex:-1},a.handleKeyup=function(){a.props.onKeyUp&&a.props.id&&a.props.onKeyUp(document.getElementById(a.props.id).value,a.props.id)},a.onBlur=function(){console.log("blur"),a.setState({focus:!1,hover:!1})},a.onSelect=function(e,t){console.log("select value:",e," text: ",t),a.props.onSelect&&a.props.onSelect(e),a.props.id&&(document.getElementById(a.props.id).value=t)},a.onHover=function(e){a.state.hoverIndex!=e&&a.setState({hoverIndex:e})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.value&&this.props.id&&(document.getElementById(this.props.id).value=this.props.value)}},{key:"render",value:function(){var e=this,t=this.props.placeholder?this.props.placeholder:"";return r.a.createElement("div",{onMouseOver:function(){return e.setState({focus:!0})},onMouseLeave:this.onBlur,className:"dropdown-wrapper input-field"},r.a.createElement("input",{className:"form-control",onFocus:function(){return e.setState({focus:!0})},id:this.props.id,type:"text",onKeyUp:this.handleKeyup,placeholder:t}),r.a.createElement(Le,{focus:this.state.focus,dropdownList:this.props.dropdownList,hoverIndex:this.state.hoverIndex,onSelect:this.onSelect,onHover:this.onHover}))}}]),t}(n.Component),Ue=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(ne,{status:"info btn-lg",text:r.a.createElement("i",{className:"fa fa-cart-plus"}),onClick:this.props.onClick})}}]),t}(n.Component),qe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getRowData=function(){var e=a.props.product;return a.props.stockView?[{values:["Name",e.name]},{values:["Remaining",e.count+" "+e.unit.name]},{values:["Price",M(e.price)+",00"]},{values:["Exp Date","-"]}]:[{values:["Name",e.name+"-"+e.id]},{values:["Unit",e.unit.name]},{values:["Category",e.category.name]},{values:["Price",M(e.price)+",00"]}]},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("detail stock of:",this.props.product)}},{key:"render",value:function(){var e=this.props.product,t=Re();null!=this.props.product&&null!=this.props.product.unit&&null!=this.props.product.category||(e={name:t,unit:{name:t},category:{name:t},price:0});var a=e.imageUrl;a&&(a=a.split("~")[0]);var n=g+a;return r.a.createElement($,{title:"Product Detail",content:r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{valign:"top"},r.a.createElement("td",null,r.a.createElement(R,{disabled:!0,rows:this.getRowData()})),r.a.createElement("td",null,r.a.createElement("div",{className:"img-panel rounded box-shadow"},r.a.createElement("img",{src:n,width:"300",height:"200"}))))))})}}]),t}(n.Component),Re=function(e){return r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))},Be=qe,Ke=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={productName:"",customerName:"",productFlowStock:{},customer:{},showDetail:!1,productFlows:[],messageShow:!1,messageType:"",stockId:0,quantity:0,activeField:""},a.setActiveField=function(e){a.setState({activeField:e})},a.getStockInfo=function(e){var t=e||a.state.stockId;a.props.getStockInfo(t,a.props.app),a.setState({stockId:e,showDetail:!0})},a.isExistInTheChart=function(e){return null!=a.state.productFlows&&null!=a.getProductFlow(e)},a.addToCart=function(){if(a.state.quantity<=0)a.props.app.infoDialog("Please provide valid quantity!");else{var e=a.state.quantity,t=a.props.productFlowStock;if(e>t.count)a.props.app.infoDialog("Stock unavailable!");else if(!a.isExistInTheChart(t.id)||window.confirm("The product already exist in the chart, do you want to override it?")){var n={id:Math.floor(1e3*Math.random()),product:t,price:t.price,count:e,flowReferenceId:0,entityId:t.id};a.addProductFlow(n),a.emptyForm()}}},a.addProductFlow=function(e){var t=a.state.productFlows;if(null!=a.getProductFlow(e.flowReferenceId))for(var n=0;n<a.state.productFlows.length;n++)a.state.productFlows[n].flowReferenceId==e.flowReferenceId&&(t[n]=e);else t.push(e);a.setState({productFlows:t}),a.showMessage("Success saving to chart","success"),ue("input-customer-name")},a.getProductFlow=function(e){if(null==a.state.productFlows)return null;for(var t=0;t<a.state.productFlows.length;t++)if(a.state.productFlows[t].product.id==e)return a.state.productFlows[t];return null},a.emptyForm=function(){a.setState({productName:null,stockId:0,quantity:0})},a.handleEdit=function(e){alert("will Edit: "+e),a.props.getStockInfo(e,a.props.app),a.setState({stockId:e,quantity:a.getProductFlow(e).count})},a.handleDelete=function(e){if(window.confirm("Are you sure want to delete this from chart?"))if(a.isExistInTheChart(e)){for(var t=a.state.productFlows,n=0;n<a.state.productFlows.length;n++)a.state.productFlows[n].flowReferenceId==e&&t.splice(n,1);a.setState({productFlows:t})}else alert("Record does not exist in the chart!")},a.submitTransaction=function(){if(null!=a.state.customer.id&&null!=a.state.productFlows&&0!=a.state.productFlows.length){var e=Object(d.a)(Object(d.a)(a));a.props.app.confirmDialog("Are you sure want to proceed?",function(t){var a={productFlows:e.state.productFlows,customer:e.state.customer};e.props.submitPurchaseTransaction(a,e.props.app)},function(e){})}else a.props.app.infoDialog("Mandatory fields must not be empty!")},a.endMessage=function(){a.setState({messageShow:!1})},a.showMessage=function(e,t){a.setState({messageShow:!0,messageText:e,messageType:t})},a.reset=function(){ue(null),a.setState({customerName:null,customer:null,productName:null,product:null,productFlows:[],showDetail:!1}),a.emptyForm(),a.props.resetPurchaseTransaction()},a.calculateTotalPrice=function(){var e=0;return a.state.productFlows&&a.state.productFlows.forEach(function(t){e+=t.count*t.product.price}),M(e)+",00"},a.getCustomerList=function(e,t){a.setState({customerName:e}),a.setActiveField(t),a.props.getCustomerList(e,a.props.app)},a.selectCustomer=function(e){if(null!=a.props.customersData){for(var t=0;t<a.props.customersData.length;t++)a.props.customersData[t].id==e&&a.setState({customerName:a.props.customersData[t].name,customer:a.props.customersData[t]});a.props.resetCustomers()}else alert("Data not found!")},a.getProductStockList=function(e,t){a.setState({productName:e}),a.setActiveField(t),a.props.getProductStockList(e,a.props.app)},a.selectproduct=function(e){if(null!=a.props.products){for(var t=0;t<a.props.products.length;t++)a.props.products[t].code==e&&a.setState({productName:a.props.products[t].name});a.setState({stockId:e}),a.getStockInfo(e),a.props.resetProductStocks()}else alert("Data not found!")},a.detailStockComponent=function(){return a.props.productFlowStock?r.a.createElement(Be,{stockView:!0,product:a.props.productFlowStock}):r.a.createElement(r.a.Fragment,null)},a.buttonAddToCart=function(){return null!=a.props.productFlowStock?r.a.createElement(Ue,{onClick:a.addToCart}):r.a.createElement(r.a.Fragment,null)},a.messageComponent=function(){return 1==a.state.messageShow?r.a.createElement(Pe,{withTimer:!0,text:a.state.messageText,endMessage:a.endMessage,type:a.state.messageType}):r.a.createElement(r.a.Fragment,null)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="Selling"}},{key:"componentDidUpdate",value:function(){null!=ce(this.state.activeField)&&ce(this.state.activeField).focus()}},{key:"getProductDropdownData",value:function(){var e=[];if(null!=this.props.products)for(var t=0;t<this.props.products.length;t++){var a=this.props.products[t];e.push({value:a.code,text:a.name})}return e}},{key:"getCustomerDropdownData",value:function(){var e=[];if(null!=this.props.customersData)for(var t=0;t<this.props.customersData.length;t++){var a=this.props.customersData[t];e.push({value:a.id,text:a.name})}return e}},{key:"render",value:function(){var e=this,t=this.calculateTotalPrice(),a=this.getCustomerDropdownData(),n=this.getProductDropdownData(),o=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-5"},r.a.createElement($,{title:"Transaction Detail",content:r.a.createElement(r.a.Fragment,null,r.a.createElement(be,{style:{gridRowGap:"5px"},cols:2,items:[r.a.createElement(Z,{text:"Customer"}),r.a.createElement(Ae,{value:this.state.customerName,onSelect:this.selectCustomer,dropdownList:a,onKeyUp:this.getCustomerList,id:"input-customer-name-sell",placeholder:"customer name"}),r.a.createElement(Z,{text:"Product"}),r.a.createElement(Ae,{value:this.state.productName,onSelect:this.selectproduct,dropdownList:n,onKeyUp:this.getProductStockList,id:"input-product-name-sell",placeholder:"product name"}),r.a.createElement(Z,{text:"Quantity"}),r.a.createElement(ge,{id:"input-quantity-sell",value:this.state.quantity,onKeyUp:function(t,a){return e.setState({activeField:a,quantity:t})},type:"number",placeholder:"quantity"})]}),r.a.createElement(this.buttonAddToCart,null))}))," ",r.a.createElement("div",{className:"col-7"},r.a.createElement(this.detailStockComponent,null))),i=[{text:"Back",status:"secondary",onClick:function(){return e.props.setFeatureCode(null)},id:"btn-back"},{text:"Back And Reset",status:"warning btn-sm",onClick:function(){e.props.setFeatureCode(null),e.reset()},id:"btn-back"},{text:"Reset",status:"danger btn-sm",id:"btn-reset-trx",onClick:this.reset}];return this.props.successTransaction?o=r.a.createElement(Fe,{status:"Success",transactionData:this.props.transactionData}):i.push({id:"btn-submit-trx",status:"success btn-sm",text:"Submit Transaction",onClick:this.submitTransaction}),r.a.createElement("div",{className:"transaction-container"},r.a.createElement(this.messageComponent,null),r.a.createElement("h2",null,"Selling ",this.state.customer&&this.state.customer.name?r.a.createElement("small",null,this.state.customer.name):""),o,r.a.createElement("div",null,r.a.createElement(L,{buttonsData:i})),r.a.createElement("h3",null,"Product List"),r.a.createElement(Ie,{disabled:this.props.successTransaction,handleEdit:this.handleEdit,handleDelete:this.handleDelete,productFlows:this.state.productFlows}),r.a.createElement(Z,{className:"totalprice-info",text:"Total Price: IDR "+t}))}}]),t}(n.Component),Ye=Object(b.b)(function(e){return{productFlowStock:e.transactionState.productFlowStock,transactionData:e.transactionState.transactionData,successTransaction:e.transactionState.successTransaction,customersData:e.transactionState.customersData,products:e.transactionState.products}},function(e){return{resetCustomers:function(){return e({type:"RESET_CUSTOMERS",payload:{},meta:{type:"RESET_CUSTOMERS"}})},getStockInfo:function(t,a){return e(function(e,t){return t.startLoading(),{type:"get_stock_info",payload:{entity:"product",filter:{limit:1,fieldsFilter:{"code[EXACTS]":e,withStock:!0}}},meta:{app:t,type:"get_stock_info",url:W.concat("get")}}}(t,a))},submitPurchaseTransaction:function(t,a){return e(function(e,t){return t.startLoading(!0),console.log("Submit Supply Purchase..."),{type:"submit_purchase",payload:{customer:e.customer,productFlows:e.productFlows},meta:{app:t,type:"submit_purchase",url:Q.concat("selling")}}}(t,a))},resetPurchaseTransaction:function(){return e({type:"reset_purchase",payload:{},meta:{type:"reset_purchase"}})},resetProductStocks:function(){return e({type:"RESET_PRODUCT_STOCKS",payload:{},meta:{type:"RESET_PRODUCT_STOCKS"}})},getCustomerList:function(t,a){return e(function(e,t){return t.startLoading(),{type:"fetch_cust_list",payload:{entity:"customer",filter:{page:0,limit:10,fieldsFilter:{name:e}}},meta:{type:"fetch_cust_list",url:G.concat("get"),app:t}}}(t,a))},getProductStockList:function(t,a){return e(function(e,t){return t.startLoading(!0),{type:"get_product_stocks",payload:{entity:"product",filter:{limit:20,fieldsFilter:{name:e}}},meta:{app:t,type:"get_product_stocks",url:G.concat("get")}}}(t,a))}}})(Ke),Ve=(a(185),a(187),function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return document.title="Error Page",r.a.createElement("div",{className:"section-container"},r.a.createElement("h2",null,this.props.message))}}]),t}(n.Component)),Je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={productName:"",supplierName:"",product:null,supplier:{},showDetail:!1,productFlows:[],messageShow:!1,messageType:"",quantity:0,price:0,expiryDate:"2020-01-01",activeField:""},a.isExistInTheChart=function(e){return null!=a.state.productFlows&&null!=a.getProductFlow(e)},a.addToCart=function(){if(a.state.quantity<=0)a.props.app.infoDialog("Please provide valid quantity!");else{var e=a.state.quantity,t=a.state.price,n=a.state.expiryDate,r=a.state.product;if(!a.isExistInTheChart(r.id)||window.confirm("The product already exist in the chart, do you want to override it?")){var o={id:Math.floor(1e3*Math.random()),product:r,price:t,count:e,expiryDate:n,entityId:r.id};a.addProductFlow(o),a.emptyForm()}}},a.addProductFlow=function(e){var t=a.state.productFlows;if(null!=a.getProductFlow(e.product.id))for(var n=0;n<a.state.productFlows.length;n++)a.state.productFlows[n].product.id==e.product.id&&(t[n]=e);else t.push(e);a.setState({productFlows:t}),a.showMessage("Success saving to chart","success")},a.getProductFlow=function(e){if(null==a.state.productFlows)return null;for(var t=0;t<a.state.productFlows.length;t++)if(a.state.productFlows[t].product.id==e)return a.state.productFlows[t];return null},a.getProduct=function(e){if(null==a.state.products)return null;for(var t=0;t<a.state.products.length;t++)if(a.state.products[t].id==e)return a.state.products[e];return null},a.handleEdit=function(e){alert("will Edit: "+e);var t=a.getProductFlow(e);null!=t?(a.setState({quantity:t.count}),a.setState({price:t.price}),a.setState({productName:t.product.name}),a.setState({expiryDate:t.expiryDate}),a.setState({product:t.product})):alert("Data not found")},a.handleDelete=function(e){if(window.confirm("Are you sure want to delete this from chart?"))if(a.isExistInTheChart(e)){for(var t=a.state.productFlows,n=0;n<a.state.productFlows.length;n++)a.state.productFlows[n].product.id==e&&t.splice(n,1);a.setState({productFlows:t})}else alert("Record does not exist in the chart!")},a.submitTransaction=function(){if(null!=a.state.supplier.id&&null!=a.state.productFlows&&0!=a.state.productFlows.length){var e=Object(d.a)(Object(d.a)(a));a.props.app.confirmDialog("Are you sure want to proceed?",function(t){var a={productFlows:e.state.productFlows,supplier:e.state.supplier};e.props.submitSupplyTransaction(a,e.props.app)},function(e){})}else a.props.app.infoDialog("Mandatory fields must not be empty!")},a.endMessage=function(){a.setState({messageShow:!1})},a.showMessage=function(e,t){a.setState({messageShow:!0,messageText:e,messageType:t})},a.reset=function(){ue(null),a.setState({supplier:null,productFlows:[],showDetail:!1,product:null,supplierName:null,productName:null,expiryDate:null,quantity:null,price:null}),a.props.resetPurchaseTransaction()},a.emptyForm=function(){a.setState({productName:null,expiryDate:null,quantity:null,price:null}),a.emptyFormValues()},a.setActiveField=function(e){a.setState({activeField:e})},a.calculateTotalPrice=function(){var e=0;return a.state.productFlows&&a.state.productFlows.forEach(function(t){e+=t.count*t.product.price}),M(e)+",00"},a.getSupplierList=function(e,t){null!=e&&""!=e.trim()&&(a.setState({supplierName:e}),a.props.getSupplierList(e,a.props.app),a.setActiveField(t))},a.selectSupplier=function(e){if(null!=a.props.suppliers){for(var t=0;t<a.props.suppliers.length;t++)a.props.suppliers[t].id==e&&a.setState({supplierName:a.props.suppliers[t].name,supplier:a.props.suppliers[t]});a.props.resetSuppliers()}else alert("Data not found!")},a.getProductList=function(e,t){null!=e&&""!=e.trim()&&(a.addFormFieldId(t),a.setState({showDetail:!0,productName:e}),a.props.getProductList(e,a.props.app),a.setActiveField(t))},a.selectProduct=function(e){if(null!=a.props.products){for(var t=0;t<a.props.products.length;t++)a.props.products[t].id==e&&a.setState({productName:a.props.products[t].name,product:a.props.products[t]});a.props.resetProducts()}else alert("Data not found!")},a.messageComponent=function(){return 1==a.state.messageShow?r.a.createElement(Pe,{withTimer:!0,text:a.state.messageText,endMessage:a.endMessage,type:a.state.messageType}):r.a.createElement(r.a.Fragment,null)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.resetPurchaseTransaction&&this.props.resetPurchaseTransaction(),document.title="Purchasing",this.formFieldIds=[],this.props.resetSuppliers()}},{key:"componentDidUpdate",value:function(){null!=ce(this.state.activeField)&&ce(this.state.activeField).focus()}},{key:"getSupplierDropdownData",value:function(){var e=[];if(null!=this.props.suppliers)for(var t=0;t<this.props.suppliers.length;t++){var a=this.props.suppliers[t];e.push({value:a.id,text:a.name})}return e}},{key:"getProductDropdownData",value:function(){var e=[];if(null!=this.props.products)for(var t=0;t<this.props.products.length;t++){var a=this.props.products[t];e.push({value:a.id,text:a.name})}return e}},{key:"render",value:function(){var e=this,t=this.calculateTotalPrice(),a=this.state.product?r.a.createElement(Be,{product:this.state.product}):null,n=this.getSupplierDropdownData(),o=this.getProductDropdownData(),i=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-5"},r.a.createElement($,{title:"Transaction Detail",content:r.a.createElement(r.a.Fragment,null,r.a.createElement(be,{style:{gridRowGap:"5px"},cols:2,items:[r.a.createElement(Z,{text:"Supplier"}),r.a.createElement(Ae,{onSelect:this.selectSupplier,dropdownList:n,value:this.state.supplierName,onKeyUp:this.getSupplierList,id:"input-supplier-name-purc",placeholder:"supplier name"}),r.a.createElement(Z,{text:"Product"}),r.a.createElement(Ae,{onSelect:this.selectProduct,id:"input-product-name-purc",dropdownList:o,value:this.state.productName,onKeyUp:this.getProductList,placeholder:"input product name"}),r.a.createElement(Z,{text:"Price"}),r.a.createElement(ge,{id:"input-product-price-purc",value:this.state.price,onKeyUp:function(t,a){e.setState({activeField:a,price:t}),e.addFormFieldId(a)},type:"number",placeholder:"input product price"}),r.a.createElement(Z,{text:"Quantity"}),r.a.createElement(ge,{id:"input-quantity-purc",value:this.state.quantity,onKeyUp:function(t,a){e.setState({activeField:a,quantity:t}),e.addFormFieldId(a)},type:"number",placeholder:"quantity"}),r.a.createElement(Z,{text:"Expiry Date"}),r.a.createElement(ge,{id:"input-exp-date-purc",value:this.state.expiryDate,onKeyUp:function(t,a){e.setState({activeField:a,expiryDate:t}),e.addFormFieldId(a)},type:"date",placeholder:"input product exp date"})]}),null!=this.state.product?r.a.createElement(Ue,{onClick:this.addToCart}):"")})),r.a.createElement("div",{className:"col-7"},a)),s=[{text:"Back",status:"secondary",onClick:function(){return e.props.setFeatureCode(null)},id:"btn-back"},{text:"Back And Reset",status:"warning",onClick:function(){e.props.setFeatureCode(null),e.reset()},id:"btn-back-reset"},{text:"Reset",status:"danger",id:"btn-reset-trx",onClick:this.reset}];return this.props.successTransaction?i=r.a.createElement(Fe,{status:"Success",transactionData:this.props.transactionData}):s.push({id:"btn-submit-trx",status:"success btn-sm",text:"Submit Transaction",onClick:this.submitTransaction}),r.a.createElement("div",{className:"transaction-container"},r.a.createElement(this.messageComponent,null),r.a.createElement("h2",null,"Purchasing ",this.state.supplier&&this.state.supplier.name?r.a.createElement("small",null,this.state.supplier.name):null),i,r.a.createElement("div",null,r.a.createElement(L,{buttonsData:s})),r.a.createElement("h3",null,"Product List"),r.a.createElement(Ie,{purchasing:!0,disabled:this.props.successTransaction,handleEdit:this.handleEdit,handleDelete:this.handleDelete,productFlows:this.state.productFlows}),r.a.createElement(Z,{className:"totalprice-info",text:"Total Price: IDR "+t}))}}]),t}(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).formFieldIds=[],a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"addFormFieldId",value:function(e){this.formFieldIds.indexOf(e)>=0||this.formFieldIds.push(e)}},{key:"emptyFormValues",value:function(){for(var e=0;e<this.formFieldIds.length;e++){var t=this.formFieldIds[e];try{document.getElementById(t).value=null}catch(a){}}}}]),t}(n.Component)),We=Object(b.b)(function(e){return{selectedProduct:e.transactionState.selectedProduct,transactionData:e.transactionState.transactionData,successTransaction:e.transactionState.successTransaction,suppliers:e.shopState.suppliersData.entities,products:e.transactionState.productsData}},function(e){return{getProductList:function(t,a){return e(function(e,t){return t.startLoading(),{type:"fetch_product_list",payload:{entity:"product",filter:{page:0,limit:10,fieldsFilter:{name:e}}},meta:{type:"fetch_product_list",url:G.concat("get"),app:t}}}(t,a))},submitSupplyTransaction:function(t,a){return e(function(e,t){return console.log("Submit Supply Trx..."),t.startLoading(!0),{type:"submit_supply",payload:{supplier:e.supplier,productFlows:e.productFlows},meta:{app:t,type:"submit_supply",url:Q.concat("purchasing")}}}(t,a))},resetPurchaseTransaction:function(){return e({type:"reset_purchase",payload:{},meta:{type:"reset_purchase"}})},resetSuppliers:function(){return e({type:"reset_suppliers",payload:{},meta:{type:"reset_suppliers"}})},resetProducts:function(){return e({type:"reset_products",payload:{},meta:{type:"reset_products"}})},getSupplierList:function(t,a){return e(X({name:t,page:0},a))}}})(Je),Ge=(a(189),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={firstLoad:!0,counter:1},a.update=function(){var e=a.state.counter+1;a.setState({counter:e}),a.state.firstLoad&&e>10&&(a.setState({firstLoad:!1}),clearInterval(a.state.intervalId))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.state.firstLoad){var e=setInterval(this.update,1,null);this.setState({intervalId:e})}}},{key:"render",value:function(){var e=this.state.firstLoad?0:this.props.value/this.props.maxValue*100,t=this.props.orientation?this.props.orientation:"horizontal",a=this.props.width?this.props.width:400;(e<0||this.props.maxValue<=0)&&(e=0);var n={width:e+"%"},o={width:a+"px",height:"20px"},i={marginLeft:e/100*a+"px"};"vertical"==t?(o={height:this.props.width?this.props.width:"400px",width:"20px",verticalAlign:"bottom"},n={height:e+"%",marginBottom:0},i={marginTop:e/100*a+"px",writingMode:"vertical-rl",textOrientation:"mixed"},"success"==this.props.type?(n.marginLeft="5px",o.borderLeft="solid 1px gray"):"warning"==this.props.type&&(n.marginRight="5px")):"success"==this.props.type?n.marginTop="5px":"warning"==this.props.type&&(n.marginBottom="5px");var s=this.props.type?this.props.type:"regular";return r.a.createElement("div",{className:"chart",style:o},r.a.createElement("div",{className:"char-bar "+s+"-chart",style:n},r.a.createElement("span",{style:i},this.props.text)))}}]),t}(n.Component)),ze=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleOnChange=function(){a.props.onChange&&a.props.onChange(document.getElementById(a.props.id).value)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.value&&(document.getElementById(this.props.id).value=this.props.value)}},{key:"render",value:function(){var e=[];this.props.values&&(e=this.props.values);var t="auto ".repeat(e.length);return r.a.createElement("div",{style:{width:"max-content",display:"grid",gridTemplateColumns:t}},e.map(function(e){var t=[];return e.options&&(t=e.options),r.a.createElement(ve,{label:e.label,defaultValue:e.defaultValue?e.defaultValue:"",key:"key_"+e.id,id:e.id,onChange:e.handleOnChange,options:t})}))}}]),t}(n.Component),He=function(e){return r.a.createElement("div",{className:"filter-box rounded"},r.a.createElement(R,{valign:"bottom",rows:e.rows}))},Qe=function(e){return r.a.createElement(ze,{values:[{label:"From Month",id:"select-month-from",defaultValue:e.monthVal,options:he(),handleOnChange:e.handleOnChangeMfrom},{label:"Year",id:"select-year-from",defaultValue:e.yearVal,options:fe(e.years[0],e.years[1]),handleOnChange:e.handleOnChangeYfrom}]})},Xe=function(e){return r.a.createElement(ze,{values:[{label:"To Month",id:"select-month-to",defaultValue:e.monthVal,options:he(),handleOnChange:e.handleOnChangeMto},{label:"Year",id:"select-year-to",defaultValue:e.yearVal,options:fe(e.years[0],e.years[1]),handleOnChange:e.handleOnChangeYto}]})};function Ze(e){var t,a=e.element,n=(a.value?a.value:0)/e.maxValue*100,o="horizontal"==e.orientation,i={margin:"3px",fontSize:"0.6em"};return o?(t={backgroundColor:a.color?a.color:"#cccccc",width:n+"%",height:"20px"},i.backgroundColor="#ffffff",i.width="100%",i.height="20px"):(t={backgroundColor:"#ffffff",height:100-n+"%",width:"20px"},i.backgroundColor=a.color?a.color:"#cccccc",i.height="200px",i.width="20px",i.margin="auto"),r.a.createElement("div",{className:void 0},r.a.createElement("div",{style:i},r.a.createElement("div",{style:t},o?a.label:null)),o?null:r.a.createElement("div",{style:{fontSize:"0.6em",transform:"rotate(20deg)"}},a.label))}var $e=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"isHorizontal",value:function(){return"horizontal"==this.props.orientation}},{key:"getChartComponents",value:function(){for(var e=[],t=this.props.chartData,a=this.props.chartGroups,n=0;n<a.length;n++){for(var o=a[n],i=new Array,s=0;s<t.length;s++){var l=t[s];if(l.group==o.value){var c=r.a.createElement(Ze,{orientation:this.props.orientation,element:l,maxValue:this.props.maxValue});i.push(c)}}var u=void 0;if(this.isHorizontal())u=r.a.createElement("div",{style:{borderBottom:"solid 1px #cccccc"},className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement(Z,{style:{fontSize:"0.9em",fontFamily:"TNR"},text:o.label})),r.a.createElement("div",{className:"col-10"},i.map(function(e){return e})));else{var p=50*i.length,d="50px ".repeat(i.length);u=r.a.createElement("div",{style:{borderRight:"solid 1px #cccccc"}},r.a.createElement("div",{style:{display:"grid",width:p+"px",gridTemplateColumns:d}},i.map(function(e){return e})),r.a.createElement("div",{style:{padding:"3px",textAlign:"center"}},r.a.createElement(Z,{style:{fontSize:"0.9em",fontFamily:"TNR"},text:o.label})))}e.push(u)}return e}},{key:"render",value:function(){return r.a.createElement("div",{className:"graph-chart",style:{width:"80%"}},r.a.createElement(be,{cols:this.isHorizontal()?1:this.props.chartGroups.length,style:{width:this.isHorizontal()?"100%":"max-content"},items:this.getChartComponents()}))}}]),t}(n.Component),et=["January","February","March","April","May","June","July","August","September","October","November","December"],tt=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e));var n=new Date;return a.state={chartOrientation:"horizontal",fromMonth:n.getMonth()+1,fromYear:n.getFullYear(),toMonth:n.getMonth()+1,toYear:n.getFullYear()},a.getCashflowDetail=function(){if(pe("select-month-from","select-month-to","select-year-from","select-year-to")){var e={fromMonth:a.state.fromMonth,fromYear:a.state.fromYear,toMonth:a.state.toMonth,toYear:a.state.toYear};a.props.getCashflowDetail(e,a.props.app)}},a.onChangeChartOrientation=function(e){"h"==e&&a.setState({chartOrientation:"horizontal"}),"v"==e&&a.setState({chartOrientation:"vertical"}),console.log("Selected?",ce("radio-orientation-"+e).checked)},a.constructFilterBox=function(){var e="horizontal"==a.state.chartOrientation,t="vertical"==a.state.chartOrientation,n=r.a.createElement("div",{className:"row"},r.a.createElement(ge,{key:"radio-o-h",checked:e,name:"orientation",onChange:function(){return a.onChangeChartOrientation("h")},type:"radio",id:"radio-orientation-h",text:"Horizontal orientation"}),r.a.createElement(ge,{key:"radio-o-v",checked:t,name:"orientation",onChange:function(){return a.onChangeChartOrientation("v")},type:"radio",id:"radio-orientation-v",text:"Vertical orientation"})),o=r.a.createElement(L,{buttonsData:[{text:"Back",onClick:function(){return a.props.setFeatureCode(null)},id:"btn-back"},{text:r.a.createElement("i",{className:"fas fa-search"}),onClick:a.getCashflowDetail,status:"success",id:"btn-get-cashflow-detail"}]});return r.a.createElement(He,{rows:[{values:[r.a.createElement(Qe,{years:a.props.transactionYears,monthVal:a.state.fromMonth,yearVal:a.state.fromYear,handleOnChangeMfrom:function(e){return a.setState({fromMonth:e})},handleOnChangeYfrom:function(e){return a.setState({fromYear:e})}}),r.a.createElement(Xe,{years:a.props.transactionYears,monthVal:a.state.toMonth,yearVal:a.state.toYear,handleOnChangeMto:function(e){return a.setState({toMonth:e})},handleOnChangeYto:function(e){return a.setState({toYear:e})}}),o,n]}]})},a.constructFilterInfo=function(){return r.a.createElement("div",null,"From ",F(a.state.fromMonth,a.state.fromYear)," to ",F(a.state.toMonth,a.state.toYear))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="Cashflow",this.getCashflowDetail()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.constructFilterInfo(),t=null!=this.props.cashflowDetail?this.props.cashflowDetail:{supplies:[],purchases:[]},a=null!=this.props.cashflowDetail?this.props.cashflowDetail.maxValue:0,n=this.constructFilterBox(),o=new Array;console.log("cashflowDetail: ",t);for(var i=0,s=new Array,l=0;l<t.supplies.length;l++,i+=2){var c=t.supplies[l],u=t.purchases[l],p=et[u.month-1]+" "+u.year,d=M(u.amount),m=M(c.amount);M(u.count),M(c.count);o.push({group:l,index:i,series:"earn_amt",value:u.amount,label:d,color:"rgb(10,200,10)"}),o.push({group:l,index:i+1,series:"spend_amt",value:c.amount,label:m,color:"rgb(200,10,10)"}),s.push({value:l,label:p})}var h=r.a.createElement("div",{className:"cashflow-list",style:{width:"70vw",overflow:"scroll"}},r.a.createElement($e,{chartGroups:s,maxValue:a,chartData:o,orientation:this.state.chartOrientation}));return r.a.createElement("div",{className:"cashflow-container"},r.a.createElement("h2",null,"Cashflow Detail"),n,e,r.a.createElement("div",null,r.a.createElement("p",null)),h)}}]),t}(n.Component),at=Object(b.b)(function(e){return{cashflowDetail:e.transactionState.cashflowDetail}},function(e){return{getCashflowDetail:function(t,a){return e(function(e,t){return t.startLoading(!0),{type:"get_cashflow_detail",payload:{filter:{month:e.fromMonth,year:e.fromYear,monthTo:e.toMonth,yearTo:e.toYear}},meta:{app:t,type:"get_cashflow_detail",url:Q.concat("cashflowdetail")}}}(t,a))}}})(tt),nt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).goBack=function(){a.props.goBack&&a.props.goBack()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=new Array,t=0;console.log("this.props.productSalesDetails : ",this.props.productSalesDetails);var a=this.props.productSalesDetails&&this.props.productSalesDetails.entity?this.props.productSalesDetails.entity.name:"",n=new Array;this.props.productSalesDetails&&null!=this.props.productSalesDetails.entities&&(n=this.props.productSalesDetails.entities,t=this.props.productSalesDetails.maxValue);for(var o=0;o<n.length;o++){var i=n[o];e.push({id:"row-detail-product-"+o,values:[F(i.month,i.year),r.a.createElement(Ge,{text:i.sales,type:"success",width:450,value:i.sales,maxValue:t})]})}return r.a.createElement("div",null,r.a.createElement("h2",null,"Sales Detail: ",a," "),r.a.createElement(ne,{onClick:this.goBack,text:"Back"}),r.a.createElement(R,{rows:e}))}}]),t}(n.Component),rt=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e));var n=new Date;return a.state={showDetail:!1,productDetailId:null,chartOrientation:"horizontal",page:0,updated:new Date,fromMonth:n.getMonth()+1,fromYear:n.getFullYear(),toMonth:n.getMonth()+1,toYear:n.getFullYear(),productName:null},a.getProductSales=function(e,t){if(a.setState({page:t,productDetailId:null}),pe("select-month-from","select-month-to","select-year-from","select-year-to")){var n={page:t,fromMonth:a.state.fromMonth,fromYear:a.state.fromYear,toMonth:a.state.toMonth,toYear:a.state.toYear,productName:a.state.productName,loadMore:e,referrer:Object(d.a)(Object(d.a)(a))};a.props.getProductSales(n)}},a.getProductSalesDetail=function(e){if(a.state.productDetailId!=e){var t={page:0,fromMonth:a.state.fromMonth,fromYear:a.state.fromYear,toMonth:a.state.toMonth,toYear:a.state.toYear,productId:e};a.props.getProductSalesDetail(t,a.props.app)}a.setState({showDetail:!0,productDetailId:e})},a.refresh=function(){console.log("++reresh++"),a.setState({updated:new Date})},a.onChangeChartOrientation=function(e){"h"==e&&a.setState({chartOrientation:"horizontal"}),"v"==e&&a.setState({chartOrientation:"vertical"})},a.loadMore=function(){var e=a.state.page;a.getProductSales(!0,e+1)},a.resetPage=function(){a.setState({page:0})},a.setRequestProductName=function(e,t){a.setState({productName:e,activeField:t})},a.constructFilterBox=function(){return r.a.createElement(He,{rows:[{values:[r.a.createElement(Qe,{years:a.props.transactionYears,monthVal:a.state.fromMonth,yearVal:a.state.fromYear,handleOnChangeMfrom:function(e){return a.setState({fromMonth:e})},handleOnChangeYfrom:function(e){return a.setState({fromYear:e})}}),r.a.createElement(Xe,{years:a.props.transactionYears,monthVal:a.state.toMonth,yearVal:a.state.toYear,handleOnChangeMto:function(e){return a.setState({toMonth:e})},handleOnChangeYto:function(e){return a.setState({toYear:e})}}),r.a.createElement(ge,{value:a.state.productName,onKeyUp:a.setRequestProductName,id:"input-product-name",placeholder:"Product Name"}),r.a.createElement(L,{buttonsData:[{text:"Back",onClick:function(){return a.props.setFeatureCode(null)},id:"btn-back"},{text:r.a.createElement("i",{className:"fas fa-search"}),onClick:function(){return a.getProductSales(null,0)},id:"btn-get-product-sales",status:"success"}]})]}]})},a.constructFilterInfo=function(e){var t=r.a.createElement("div",null,"From: ",r.a.createElement("span",null,F(e.filter.month,e.filter.year))," To: ",r.a.createElement("span",null,F(e.filter.monthTo,e.filter.yearTo)));return r.a.createElement("div",null,t)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.title="ProductSales"}},{key:"componentDidUpdate",value:function(){console.log("updated",this.state.fromMonth,this.state.fromYear," to ",this.state.toMonth,this.state.toYear),ce(this.state.activeField)&&ce(this.state.activeField).focus()}},{key:"render",value:function(){for(var e=this,t=null!=this.props.productSalesData?this.props.productSalesData:{entities:[],filter:{}},a=function(e){for(var t=0,a=0;a<e.length;a++){var n=e[a];n.sales>t&&(t=n.sales)}return t}(t.entities),n=this.constructFilterInfo(t),o=this.constructFilterBox(),i=new Array,s=new Array,l=function(a){var n=t.entities[a],o=M(n.sales);s.push({value:a,label:r.a.createElement(Z,{key:"lbl-e-"+n.product.id,text:n.product.name,onClick:function(){return e.getProductSalesDetail(n.product.id)}})}),i.push({group:a,index:a,series:"product_sales",value:n.sales,label:o,color:"rgb(160,160,160)"})},c=0;c<t.entities.length;c++)l(c);var u=r.a.createElement("div",{className:"cashflow-list"},r.a.createElement($e,{chartGroups:s,maxValue:a,chartData:i,orientation:"horizontal"})),p=this.props.productSalesDetails;return this.state.showDetail&&(u=r.a.createElement(nt,{productSalesDetails:p,goBack:function(){e.setState({showDetail:!1})}})),r.a.createElement("div",{className:"cashflow-container"},r.a.createElement("h2",null,"Product Sales"),o,r.a.createElement("div",null," ",n," "),u,r.a.createElement(ne,{text:"Load more",status:"warning",onClick:this.loadMore}))}}]),t}(n.Component),ot=Object(b.b)(function(e){return{productSalesData:e.transactionState.productSalesData,productSalesDetails:e.transactionState.productSalesDetails}},function(e){return{getProductSales:function(t){return e(function(e){return e.referrer.props.app.startLoading(!0),{type:"get_product_sales",payload:{product:{name:e.productName},filter:{page:e.page,limit:10,month:e.fromMonth,year:e.fromYear,monthTo:e.toMonth,yearTo:e.toYear}},meta:{referrer:e.referrer,type:"get_product_sales",loadMore:1==e.loadMore,url:Q.concat("productsales")}}}(t))},getProductSalesDetail:function(t,a){return e(function(e,t){return t.startLoading(!0),{type:"get_product_Sales_detail",payload:{filter:{page:e.page,limit:10,month:e.fromMonth,year:e.fromYear,monthTo:e.toMonth,yearTo:e.toYear}},meta:{app:t,type:"get_product_Sales_detail",loadMore:1==e.loadMore,url:Q.concat("productsalesdetail/"+e.productId)}}}(t,a))}}})(rt),it=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={featureCode:"main",cashflowYear:me()[1],cashflowMonth:me()[0]},a.setFeatureCode=function(e){a.setState({featureCode:e})},a.validateLoginStatus=function(){1!=a.props.loginStatus&&a.props.history.push("/login")},a.getCashflowInfo=function(){var e=a.state.cashflowMonth,t=a.state.cashflowYear;a.props.getCashflowInfo(e,t,"OUT",a.props.app),a.props.getCashflowInfo(e,t,"IN",a.props.app)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.validateLoginStatus(),1==this.props.loginStatus&&(this.props.setMenuCode("dashboard"),document.title="Dashboard",this.getCashflowInfo())}},{key:"componentDidUpdate",value:function(){this.validateLoginStatus()}},{key:"render",value:function(){var e,t=this,a=(new Date).getFullYear();e=this.props.transactionYears[0],a=this.props.transactionYears[1];var n=this.props.cashflowInfoIn?this.props.cashflowInfoIn:{amount:"loading...",count:"loading..."},o=this.props.cashflowInfoOut?this.props.cashflowInfoOut:{amount:"loading...",count:"loading..."};console.log("this.props.cashflowInfoIn ",this.props.cashflowInfoIn);var i=r.a.createElement("div",null,r.a.createElement("div",{className:"cashflow-info"},r.a.createElement("h3",null,"Cashflow Info"),r.a.createElement(be,{style:{backgroundColor:"#cccccc",padding:"5px",borderRadius:"3px",width:"max-content",gridColumnGap:"10px"},items:[r.a.createElement(ze,{key:"cb",values:[{id:"select-month",label:"Month",defaultValue:this.state.cashflowMonth?this.state.cashflowMonth:me()[0],options:he(),handleOnChange:function(e){return t.setState({cashflowMonth:e})}},{id:"select-year",label:"Year",defaultValue:this.state.cashflowYear?this.state.cashflowYear:me()[1],options:fe(e,a),handleOnChange:function(e){return t.setState({cashflowYear:e})}}]}),r.a.createElement(ne,{status:"secondary",id:"btn-get-cashflow-info",text:r.a.createElement("i",{className:"fa fa-search"}),onClick:this.getCashflowInfo})]}),r.a.createElement("div",{className:"cashflow-info-wrapper"},r.a.createElement(be,{style:{width:"50%"},items:[r.a.createElement(st,{type:"earn",cashflowInfo:o}),r.a.createElement(st,{type:"spend",cashflowInfo:n})]}))));if(null!=this.state.featureCode)switch(this.state.featureCode){case"trxOut":i=r.a.createElement(Ye,{app:this.props.app,setFeatureCode:this.setFeatureCode});break;case"trxIn":i=r.a.createElement(We,{app:this.props.app,setFeatureCode:this.setFeatureCode});break;case"cashflow":i=r.a.createElement(at,{app:this.props.app,transactionYears:this.props.transactionYears,setFeatureCode:this.setFeatureCode});break;case"productSales":i=r.a.createElement(ot,{app:this.props.app,transactionYears:this.props.transactionYears,setFeatureCode:this.setFeatureCode})}return 1==this.props.loginStatus?r.a.createElement("div",{className:"section-container"},r.a.createElement(k,{title:"Dashboard",iconClass:"fas fa-tachometer-alt",description:"Have a Nice Shop Keeping!"}),r.a.createElement(xe,{currentMenu:this.state.featureCode,goToMenu:this.setFeatureCode}),i):r.a.createElement(Ve,{message:"OOPS! Page not found"})}}]),t}(n.Component);function st(e){var t=e.cashflowInfo,a="earn"==e.type?"Total Earning":"Total Spending",n=r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-comments-dollar"}),"\xa0",M(t.amount)+",00"),o=r.a.createElement("div",null,r.a.createElement(Z,{style:{fontFamily:"TNR"},text:n}),r.a.createElement(Z,{text:"Item"}),r.a.createElement(Z,{text:r.a.createElement(r.a.Fragment,null,M(t.count))}));return r.a.createElement($,{style:{marginTop:"3px"},title:a+" "+F(t.month,t.year),content:o})}var lt=Object(we.a)(Object(b.b)(function(e){return{cashflowInfoIn:e.transactionState.cashflowInfoIn,cashflowInfoOut:e.transactionState.cashflowInfoOut,transactionYears:e.transactionState.transactionYears}},function(e){return{getCashflowInfo:function(t,a,n,r){return e(function(e,t,a,n){return n.startLoading(),{type:"get_cashflow",payload:{filter:{year:t,month:e,module:a}},meta:{app:n,type:"get_cashflow",url:Q.concat("cashflowinfo")}}}(t,a,n,r))}}})(it)),ct=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={suppliersData:{entities:[]},limit:10,totalData:0,suppliers:[],supplierPage:0,firstLoad:!0,requestOrderBy:null,requestOrderType:null,requestSupplierName:""},a.getSupplierList=function(e){a.props.getSupplierList({page:e,name:a.state.requestSupplierName,orderby:a.state.requestOrderBy,ordertype:a.state.requestOrderType},a.props.app),a.setState({supplierPage:e}),a.setState({totalData:a.props.suppliersData.totalData})},a.handleOrderChange=function(e){if(null!=e&&0!=e.length&&2==e.split("-").length){var t=e.split("-");a.setState({requestOrderBy:t[0]}),a.setState({requestOrderType:t[1]})}},a.handleInputNameChange=function(e){a.setState({catalogPage:0}),a.setState({requestSupplierName:e})},a.clearField=function(){document.getElementById("input-supplier-name").value="",a.setState({requestSupplierName:""}),document.getElementById("select-order").value="00",a.setState({requestOrderBy:null,requestOrderType:null}),a.props.app.infoDialog("filter has been cleared, please push the search button to take effect")},a.next=function(){var e=a.state.supplierPage;e>=Math.floor(a.props.suppliersData.totalData/a.state.limit)-1?e=0:e++,a.getSupplierList(e)},a.prev=function(){var e=a.state.supplierPage,t=Math.floor(a.props.suppliersData.totalData/a.state.limit);e<=0?e=t-1:e--,a.getSupplierList(e)},a.generateNavButtonsData=function(){var e=null==a.props.suppliersData.entities?[]:a.props.suppliersData.entities,t=[];e.length>0&&(t=de(a.props.suppliersData.totalData/a.state.limit,a.state.supplierPage));for(var n=[{id:"btn-prev",buttonClick:a.prev,text:"previous"}],r=function(e){var r=t[e],o=r.value==a.state.supplierPage;n.push({id:r.value,active:o,buttonClick:function(){return a.getSupplierList(r.value)},text:r.text})},o=0;o<t.length;o++)r(o);return n.push({id:"btn-next",buttonClick:a.next,text:"next"}),n},a.filterBox=function(){var e=[{text:r.a.createElement("i",{className:"fas fa-search"}),status:"success",onClick:function(){return a.getSupplierList(0)},id:"btn-search"},{text:"Clear Filter",status:"warning",onClick:a.clearField,id:"Clear"}];return r.a.createElement("div",{className:"filter-box"},r.a.createElement(be,{cols:2,style:{width:"max-content"},items:[r.a.createElement(ge,{placeholder:"search by supplier name",onKeyUp:a.handleInputNameChange,type:"search",id:"input-supplier-name"}),r.a.createElement(ve,{defaultValue:a.state.requestOrderBy+"-"+a.state.requestOrderType,onChange:a.handleOrderChange,options:pt,key:"k-select-order",id:"select-order"}),r.a.createElement(L,{style:{margin:"5px"},key:"btns",buttonsData:e})]}),r.a.createElement("p",null))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){document.title="Our Suppliers",this.getSupplierList(this.state.supplierPage),this.props.setMenuCode("supplierlist")}},{key:"componentDidUpdate",value:function(){this.state.firstLoad&&null!=this.props.suppliersData.filter&&this.setState({totalData:this.props.suppliersData.totalData,firstLoad:!1})}},{key:"render",value:function(){var e=null==this.props.suppliersData.entities?[]:this.props.suppliersData.entities;return r.a.createElement("div",{className:"section-container",id:"catalog-main",key:"catalog-main"},r.a.createElement(k,{title:"Supplier List Page",iconClass:"fas fa-warehouse",description:"List of our partners"}),r.a.createElement(ye,{buttonsData:this.generateNavButtonsData()}),r.a.createElement(this.filterBox,null),r.a.createElement("div",{className:"row catalog-container"},e.map(function(e){return r.a.createElement(ut,{supplier:e})})))}}]),t}(n.Component);function ut(e){var t=e.supplier,a=g+t.iconUrl,n=r.a.createElement("div",null,r.a.createElement("a",{href:t.website},t.name),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"0.7em"}},t.address));return r.a.createElement("div",{className:"col-md-3"},r.a.createElement($,{icon:a,style:{float:"left",color:"dimgrey"},key:t.id,content:n}))}var pt=[{value:"00",text:"-Select Order-"},{value:"name-asc",text:"Name [A-Z]"},{value:"name-desc",text:"Name [Z-A]"}],dt=Object(V.a)(Object(b.b)(function(e){return{suppliersData:e.shopState.suppliersData}},function(e){return{getSupplierList:function(t,a){return e(X(t,a))}}})(ct)),mt=(a(191),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fontColor=a.props.applicationProfile.fontColor,a.backgroundColor=a.props.applicationProfile.color,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"footerStyle",value:function(){return{color:this.fontColor,backgroundColor:this.backgroundColor}}},{key:"render",value:function(){var e=(new Date).getFullYear(),t=this.props.applicationProfile?this.props.applicationProfile:{};return r.a.createElement("div",{className:"App-footer",style:this.footerStyle()},r.a.createElement("span",{className:t.footerIconClassValue}),"\xa0\xa0",t.name," ",e)}}]),t}(n.Component)),ht=Object(b.b)(function(e){return{applicationProfile:e.userState.applicationProfile}})(mt),ft=a(51),gt=a.n(ft),yt=(a(230),function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props.messages?this.props.messages:[],t=[],a=0;a<e.length;a++){var n=e[a];t.push(r.a.createElement(vt,{message:n,username:this.props.username}))}return r.a.createElement(be,{cols:1,items:t})}}]),t}(n.Component)),vt=function(e){var t="chat-item rounded paper-shadow  "+(1==e.message.admin?" admin ":"user"),a="";e.username&&(a=" ["+e.username+"]");var n=1==e.message.admin?"Admin":"You"+a,o=r.a.createElement("span",null,n,r.a.createElement("span",{style:{marginLeft:"11px",fontSize:"0.7em",float:"right"}},e.message.date));return r.a.createElement("div",{className:t},r.a.createElement(Z,{style:{fontSize:"0.8em",color:"black"},text:o}),r.a.createElement(Z,{text:e.message.text}))},bt=yt,Et=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={messages:null,username:null,activeId:null},a.sendChatMessage=function(){ce("input-msg").value?(a.props.sendChatMessage(ce("input-msg").value,a.state.username,a.props.app),ce("input-msg").value=""):a.props.app.infoDialog("Message must not be null")},a.handleMessage=function(e){console.log("Responses handleMessage: ",e.code),console.log("LOCAL STORAGE:",localStorage.getItem("requestId")),e.code==localStorage.getItem("requestId")&&a.props.storeChatMessageLocally(e.entities)},a.changeUsername=function(e,t){a.setState({username:e,activeId:t})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.setMenuCode("chatroom"),document.title="Chat Room",this.props.getMessages(this.props.app),this.props.userAlias&&this.setState({username:this.props.userAlias})}},{key:"componentDidUpdate",value:function(){this.state.activeId&&ce(this.state.activeId)&&ce(this.state.activeId).focus()}},{key:"render",value:function(){var e=this,t=this.props.userAlias?this.props.userAlias:"";return r.a.createElement("div",{className:"section-container"},r.a.createElement(k,{title:"What Do You Feel?",description:"Identified as ["+this.state.username+"]",iconClass:"fas fa-comments"}),r.a.createElement(ge,{value:t,onKeyUp:this.changeUsername,id:"input-username",placeholder:"identify your name"}),r.a.createElement("div",{style:{textAlign:"left"},id:"chat-room"},r.a.createElement("div",{className:"chat-container"},r.a.createElement(bt,{username:this.state.username,messages:this.props.messages})),r.a.createElement(be,{style:{width:"50%",textAlign:"right"},items:[r.a.createElement(ge,{style:{width:"130%"},type:"textarea",placeholder:"input message",id:"input-msg"}),r.a.createElement(ne,{style:{margin:"5px"},status:"success",onClick:this.sendChatMessage,text:r.a.createElement("i",{className:"fas fa-paper-plane"})})]}),r.a.createElement(gt.a,{url:"http://localhost:8080/universal-good-shop/realtime-app",topics:["/wsResp/messages"],onMessage:function(t){e.handleMessage(t)},ref:function(t){e.clientRef=t}})))}}]),t}(n.Component),St=Object(b.b)(function(e){return{messages:e.shopState.messages,userAlias:e.shopState.userAlias}},function(e){return{sendChatMessage:function(t,a,n){return e(function(e,t,a){return a.startLoading(),{type:"send_message",payload:{value:e,username:t},meta:{app:a,type:"send_message",url:H.concat("sendmessage")}}}(t,a,n))},storeChatMessageLocally:function(t){return e(function(e){return{type:"store_message",payload:{entities:e},meta:{type:"store_message"}}}(t))},getMessages:function(t){return e(function(e){return e.startLoading(),{type:"GET_MESSAGE",payload:{},meta:{type:"GET_MESSAGE",app:e,url:H.concat("getmessages")}}}(t))}}})(Et),Ot=(a(98),function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){document.title="My Cart",this.props.setMenuCode("cart")}},{key:"render",value:function(){var e=this.props.enableShopping?this.props.cart:[];return r.a.createElement("div",{className:"section-container"},r.a.createElement(k,{title:"My Cart",iconClass:"fas fa-shopping-cart"}),r.a.createElement("div",{className:" cart-bg"},r.a.createElement("div",{className:"cart-container paper-shadow"},r.a.createElement(Ct,{cart:e}))))}}]),t}(n.Component));function Ct(e){for(var t=0,a=[{values:["No","Name","Qty","Unit","@Price","Total Price"]}],n=0,o=e.cart,i=0;i<o.length;i++){var s=o[i];if(s.product){var l=s.product.name,c=s.count,u=s.product.price,p=s.product.imageUrl,d=g+p.split("~")[0],m=u*c;t+=m=m,n++,a.push({values:[n,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{src:d,width:"50",height:"50"}),r.a.createElement(Z,{text:l})),M(c),s.product.unit.name,M(u),M(m)]})}}return a.push({values:["Total Price",r.a.createElement("b",null,M(t))],CS:[5,1]}),o.length>0?r.a.createElement(R,{style:{fontFamily:"Arial Narrow",width:"100%"},rows:a}):r.a.createElement("h3",{style:{margin:"auto"}},"You don't have any list")}var wt=Object(b.b)(function(e){return{cart:e.shopState.cart}})(Ot),jt=(a(99),a(77));a(100);function Dt(e){return r.a.createElement("div",{className:"input-image-wrapper row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("img",{src:e.value,width:"60",height:"60"})),r.a.createElement("div",{className:"col-6"},e.enableRemove?r.a.createElement(ne,{text:r.a.createElement("i",{className:"fas fa-minus-circle"}),status:"danger btn-sm",onClick:e.removeImage}):null))}var kt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={base64Data:null},a.onChange=function(e){!function(e,t,a){var n=new FileReader;n.readAsDataURL(e.files[0]),n.onload=function(){return a(n.result,t)},n.onerror=function(e){alert("Error Loading File")}}(e.target,Object(d.a)(Object(d.a)(a)),function(e,t){t.setState({base64Data:e})})},a.removeImage=function(){a.props.removeImage&&a.props.removeImage()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.onChange&&this.props.onChange(this.state.base64Data)}},{key:"render",value:function(){var e=null;return this.state.base64Data&&(e=r.a.createElement(Dt,{enableRemove:!1,value:this.state.base64Data})),this.props.value&&""!=this.props.value.trim()&&(e=r.a.createElement(Dt,{enableRemove:!0,value:this.props.value,removeImage:this.removeImage})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("input",{className:"form-control",accept:"image/*",onChange:this.onChange,type:"file",key:"input_file_"+I()})),r.a.createElement("div",{className:"col-12"},e))}}]),t}(n.Component),Nt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleAddMoreFile=function(){a.props.addMoreImage&&a.props.addMoreImage()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[];return this.props.inputFilesData&&(e=this.props.inputFilesData),r.a.createElement("div",null,e.map(function(e){var t=e.value;return r.a.createElement(kt,{key:I()+"_multiple_file_item",onChange:function(t){e.onChange&&e.onChange(t)},value:t&&t.includes("base64")?t:t?g+t:null,id:e.inputId,removeImage:function(){e.removeImage&&e.removeImage()}})}),r.a.createElement(ne,{status:"info bn-sm",text:r.a.createElement("i",{className:"fas fa-plus-circle"}),onClick:this.handleAddMoreFile}))}}]),t}(n.Component),xt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={managedEntity:null,activeId:null,formValues:{},dropdownList:{},dropdownValues:{},selectedEntities:{},base64Data:{},base64DataMultiple:{},updated:new Date},a.validateEntity=function(e){console.info("validateEntity");var t=e;for(var n in e){var r=a.getElementProperty(n);if(r)if("img"==r.type&&0==r.multiple)e[n]&&!e[n].includes("base64")&&(t[n]=null);else if("img"==r.type&&1==r.multiple&&(console.info("this.state.base64DataMultiple[key] ",a.state.base64DataMultiple[n]),e[n])){for(var o=e[n].split("~"),i=new Array,s=0;s<o.length;s++){var l=o[s];if(a.state.base64DataMultiple[n]&&a.state.base64DataMultiple[n][s]){if(a.state.base64DataMultiple[n]&&a.state.base64DataMultiple[n][s]){var c=a.state.base64DataMultiple[n][s];i.push("{ORIGINAL>>"+l+"}"+c)}}else i.push("{ORIGINAL>>"+l+"}")}if(a.state.base64DataMultiple[n]&&a.state.base64DataMultiple[n].length>o.length)for(var u=o.length-1;u<a.state.base64DataMultiple[n].length;u++){var p=a.state.base64DataMultiple[n][u];p&&p.includes("base64")&&i.push(p)}i.length>0&&(t[n]=i.join("~"))}console.log(n,"=>",t[n])}return t},a.refresh=function(){a.setState({updated:new Date})},a.handleSubmit=function(){null!=a.props.managedEntity&&(console.log("WILL UPDATE(props):",a.props.managedEntity),a.props.updateEntity&&a.props.updateEntity(a.props.entityProperty.entityName,a.validateEntity(a.props.managedEntity),"update")),null!=a.state.managedEntity&&(console.log("WILL SUBMIT NEW(state):",a.state.managedEntity),a.props.updateEntity&&a.props.updateEntity(a.props.entityProperty.entityName,a.validateEntity(a.state.managedEntity),"addNew")),a.clear()},a.focusActiveId=function(){ce(a.state.activeId)&&ce(a.state.activeId).focus()},a.onKeyUp=function(e,t,n){a.setState({activeId:t}),a.updateSelectedEntity(n,e)},a.clear=function(){a.setState({managedEntity:null,dropdownList:{},dropdownValues:{},selectedEntities:{},base64Data:{},base64DataMultiple:{}}),a.props.removeManagedEntity&&a.props.removeManagedEntity()},a.populateDropdown=function(e,t,n){var r={entityName:e,fieldName:t.split(".")[1],fieldValue:n};a.props.getEntitiesWithCallback(r,Object(d.a)(Object(d.a)(a)),function(e,t){console.log("DATA FOR DROPDOWN: ",e)})},a.onKeyUpDynamicDropdown=function(e,t,n,r,o){if(null!=e&&""!=e.trim()){var i={entityName:r.toLowerCase(),fieldName:o,fieldValue:e};a.props.getEntitiesWithCallback(i,Object(d.a)(Object(d.a)(a)),function(e,t){console.log("LIST FOR ",n," DROPDOWN: ",e.entities),t.populateDropdownValues(e.entities,n)});var s=a.state.dropdownValues;s[n]=e,a.setState({activeId:t,dropdownValues:s})}},a.populateDropdownValues=function(e,t){console.log("ENTITIES (",t,"):",e);var n=new Array,r=a.getElementProperty(t);if(null!=r){for(var o=0;o<e.length;o++){var i=e[o];n.push({value:i[r.optionValueName],text:i[r.optionItemName],entity:i})}return a.state.dropdownList[t]=n,n}console.log("FORM DATA NOT FOUND")},a.getSelectedDropdownItem=function(e,t){if(null==a.state.dropdownList[t])return null;for(var n=a.state.dropdownList[t],r=0;r<n.length;r++){var o=n[r];if(o.value==e)return o}return null},a.getElementProperty=function(e){if(a.props.entityProperty)for(var t=a.props.entityProperty,n=0;n<t.elements.length;n++){var r=t.elements[n];if(r.id==e)return r}return null},a.addMoreImage=function(e){if(a.props.managedEntity){var t=a.props.managedEntity[e];t&&(t=t.trim()+"~DEFAULT.BMP",a.updateSelectedEntity(e,t))}else{var n,r=a.state.managedEntity;r?n=r[e]+"~":(r={},n=""),n=n.trim()+"DEFAULT.BMP",a.updateSelectedEntity(e,n)}},a.updateSelectedEntity=function(e,t){if(a.props.managedEntity)a.props.managedEntity[e]=t,a.refresh();else{var n=a.state.managedEntity;n||(n={}),n[e]=t,a.setState({managedEntity:n})}},a.handleRemoveImage=function(e){var t=a.state.base64Data;t[e]=null,a.updateSelectedEntity(e,null),a.setState({base64Data:t})},a.handleChangeBase64Image=function(e,t){var n=a.state.base64Data;n[t]=e,a.updateSelectedEntity(t,e),a.setState({base64Data:n})},a.handleChangeBase64MultipleImage=function(e,t,a){var n=this.state.base64DataMultiple,r=t;n[r]||(n[r]=new Array),n[r][a]=e,this.setState({base64DataMultiple:n})},a.removeElementAtPosition=function(e,t){for(var a=new Array,n=0;n<e.length;n++)n!=t&&a.push(e[n]);return a},a.handleRemoveMultipleImage=function(e,t){var n=a.state.base64DataMultiple,r=e;if(n[r]||(n[r]=new Array),n[r][t]=null,a.setState({base64DataMultiple:n}),a.props.managedEntity){var o=a.props.managedEntity[r];if(o){var i=a.removeElementAtPosition(o.split("~"),t);a.updateSelectedEntity(r,i.join("~"))}}else{var s=a.state.managedEntity;if(!s)return;var l=s[r];if(l){var c=a.removeElementAtPosition(l.split("~"),t);a.updateSelectedEntity(r,c.join("~"))}}},a.selectFromDynamicDropdown=function(e,t){console.log("Dynamic Dropdown ",t,":",e);var n=a.state.dropdownList,r=a.state.dropdownValues,o=a.state.selectedEntities,i=a.getSelectedDropdownItem(e,t);if(null!=i){r[t]=i.text,n[t]=[],o[t]=i.entity;var s=t;a.updateSelectedEntity(s,i.entity),a.setState({activeId:null,dropdownList:n,dropdownValues:r,selectedEntities:o}),a.refresh()}},a.selectFromFixedDropdown=function(e,t){console.log("FIXED Dropdown ",t,":",e);var n=a.state.dropdownList,r=a.state.dropdownValues;r[t]=e;for(var o=a.getElementProperty(t).optionValueName,i=n[t],s=0;s<i.length;s++){var l=i[s];if(l[o]==e){console.info("update fieldId: ",l),a.updateSelectedEntity(t,l),a.setState({activeId:null,dropdownValues:r}),a.refresh();break}}},a.selectFromPlainListDropdown=function(e,t){console.log("Plain Dropdown ",t,":",e);var n=a.state.dropdownList,r=a.state.dropdownValues;r[t]=e;for(var o=n[t],i=0;i<o.length;i++){var s=o[i];if(s.toString()==e.toString()){console.info("update fieldId: ",s),a.updateSelectedEntity(t,s),a.setState({activeId:null,dropdownValues:r}),a.refresh();break}}},a.updateFixedListValues=function(e,t){var n=a.state.dropdownList;null!=n[t]&&n[t].length==e.length||(n[t]=e,a.setState({dropdownList:n}))},a.updatePlainListValues=function(e,t){var n=a.state.dropdownList;null!=n[t]&&n[t].length==e.length||(n[t]=e,a.setState({dropdownList:n}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.focusActiveId(),console.debug("props managedEntity: ",this.props.managedEntity),console.debug("state managedEntity: ",this.state.managedEntity)}},{key:"render",value:function(){return r.a.createElement("div",{className:"entity-form-wrapper"},r.a.createElement("div",{className:"entity-form  "},r.a.createElement(Mt,{entityConfig:this.props.entityConfig,managedEntity:this.props.managedEntity,entityProperty:this.props.entityProperty,app:this,updated:this.state.updated,stateManagedEntity:this.state.managedEntity,dropdownValues:this.state.dropdownValues,dropdownList:this.state.dropdownList,base64DataMultiple:this.state.base64DataMultiple}),r.a.createElement(It,{entityConfig:this.props.entityConfig,managedEntity:this.props.managedEntity,handleSubmit:this.handleSubmit,clear:this.clear})))}}]),t}(n.Component);function It(e){return e.entityConfig.disabled?r.a.createElement(r.a.Fragment,null):r.a.createElement(L,{buttonsData:[{text:e.managedEntity?"Update":"Add Record",onClick:e.handleSubmit,status:"success"},{text:"Clear",status:"warning",onClick:e.clear}]})}function Mt(e){var t=e,a=t.app,n=null!=t.managedEntity||t.stateManagedEntity,o=t.entityProperty.elements;return r.a.createElement(r.a.Fragment,null,o.map(function(e){var o=e.id,i=null;if(n){var s=t.managedEntity?t.managedEntity:t.stateManagedEntity;if(null!=e.entityReferenceClass&&t.activeId!="input-for-"+e.name){var l=s[o];if(null!=l)if("dynamiclist"==e.type)i=l[e.optionItemName];else if("fixedlist"==e.type){i=l[e.optionValueName]}}else i=s[o]}var c=null,u="input-for-"+o;if("dynamiclist"==e.type)null==i&&(i=t.dropdownValues[o]),c=r.a.createElement(Ae,{onSelect:function(e){return a.selectFromDynamicDropdown(e,o)},id:u,placeholder:e.lableName,value:i,dropdownList:t.dropdownList[o],onKeyUp:function(t,n){a.onKeyUpDynamicDropdown(t,n,o,e.entityReferenceClass,e.optionItemName)}});else if("fixedlist"==e.type){null==i&&(i=t.dropdownValues[o]),a.updateFixedListValues(e.options,o),console.info("def value ",o," : ",i);var p=_t(e);c=r.a.createElement(ve,{onChange:function(e){a.selectFromFixedDropdown(e,o)},defaultValue:i,id:u,placeholder:e.lableName,options:p})}else if("plainlist"==e.type){null==i&&(i=t.dropdownValues[o]),a.updatePlainListValues(e.plainListValues,o),console.info("def value ",o," : ",i);var d=Pt(e);c=r.a.createElement(ve,{onChange:function(e){a.selectFromPlainListDropdown(e,o)},defaultValue:null==i?null:i.toString(),id:u,placeholder:e.lableName,options:d})}else if("img"==e.type&&0==e.multiple)c=r.a.createElement(kt,{onChange:function(e){return a.handleChangeBase64Image(e,o)},value:i&&i.includes("base64")?i:i?g+i:null,id:u,removeImage:function(){return a.handleRemoveImage(o)}});else if("img"==e.type&&1==e.multiple){for(var m=i?i.split("~"):[],h=new Array,f=function(e){var n=m[e];t.base64DataMultiple[o]&&t.base64DataMultiple[o][e]&&t.base64DataMultiple[o][e].includes("base64")&&(n=t.base64DataMultiple[o][e]),h.push({value:n,onChange:function(t){a.handleChangeBase64MultipleImage(t,o,e)},removeImage:function(){return a.handleRemoveMultipleImage(o,e)}})},y=0;y<m.length;y++)f(y);c=r.a.createElement(Nt,{addMoreImage:function(){return a.addMoreImage(o)},inputFilesData:h})}else c=r.a.createElement(ge,{disabled:1==e.idField,onKeyUp:function(e,t){a.onKeyUp(e,t,o)},id:u,value:i,type:e.type,placeholder:e.lableName});return r.a.createElement("div",{key:"FORM-FIELD-"+I()},r.a.createElement(Z,{text:e.lableName}),c)}))}var Pt=function(e){for(var t=[],a=0;a<e.plainListValues.length;a++){var n=e.plainListValues[a];t.push({value:n,text:n})}return t},_t=function(e){for(var t=[],a=0;a<e.options.length;a++){var n=e.options[a];t.push({value:n[e.optionValueName],text:n[e.optionItemName]})}return t},Ft=Object(we.a)(Object(b.b)(function(e){return{}},function(e){return{getEntitiesWithCallback:function(t,a,n){return e(function(e,t,a){t.props.app.startLoading();var n={type:"GET_ENTITY_WITH_CALLBACK",payload:{entity:e.entityName,filter:{limit:10,fieldsFilter:{}}},meta:{type:"GET_ENTITY_WITH_CALLBACK",url:G.concat("get"),app:t.props.app,referer:t,callback:a}};return n.payload.filter.fieldsFilter[e.fieldName]=e.fieldValue,n}(t,a,n))}}})(xt)),Tt=function(e){return r.a.createElement("div",{class:"d-flex justify-content-center",style:{padding:"5px"}},r.a.createElement("div",{class:"spinner-border",role:"status",style:{width:"3rem",height:"3rem"}},r.a.createElement("span",{class:"sr-only"},"Loading...")))},Lt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={filter:{},activeId:null,orderBy:null,orderType:null},a.handleDelete=function(e){window.confirm("Are your sure for deleting this entity?")&&console.log("Will DELETE: ",e)},a.handleEdit=function(e){a.getEntityById(e)},a.goToPage=function(e,t){e>a.props.entitiesData.totalData/10&&(e=0),e<0&&(e=Math.ceil(a.props.entitiesData.totalData/10-1));var n=a.props.entityConfig;n.filter=a.state.filter,null!=t&&(n.orderBy=t.orderBy,n.orderType=t.orderType,a.setState({orderBy:t.orderBy,orderType:t.orderType})),a.props.getEntityInPage(n,e)},a.getEntityById=function(e){var t=a.props.entityConfig;null!=t?a.props.getEntityById(t.entityName,e):alert("Config Not Found!")},a.createNavButtons=function(){return de(a.props.entitiesData.totalData/10,a.props.currentPage)},a.setOrderBy=function(e,t){a.goToPage(a.props.currentPage,{orderBy:e,orderType:t})},a.createFilterInputsv2=function(e){var t=new Array,n=e.elements;if(!n)return t;for(var o=0;o<n.length;o++){var i=n[o],s=i.id,l="";null!=a.state.filter[s]&&(l=a.state.filter[s]);var c=r.a.createElement(ge,{value:l,id:s+"_filter_id",onKeyUp:a.handleFilterChange,key:"input_field_"+I(),placeholder:s});"date"==i.type&&(c=r.a.createElement(Ut,{id:s,filter:a.state.filter,app:Object(d.a)(Object(d.a)(a))})),t.push(r.a.createElement("div",{className:"filter-wrapper"},c,r.a.createElement(At,{app:Object(d.a)(Object(d.a)(a)),id:s})))}return t.push(""),t},a.handleFilterChange=function(e,t){var n=a.state.filter;null!=e&&""==e.trim()?n[t.split("_filter_id")[0]]=null:n[t.split("_filter_id")[0]]=e,a.setState({filter:n,activeId:t}),a.goToPage(a.props.currentPage)},a.focusActiveId=function(){ce(a.state.activeId)&&ce(a.state.activeId).focus()},a.getEntityDataTableRowData=function(){var e=a.props.entitiesData,t=a.props.entityConfig,n=a.props.entityProperty;if(null==e||null==t||null==e.entities)return r.a.createElement(Tt,null);for(var o=[{values:["No"].concat(Object(jt.a)(qt(n))),disabled:!0,style:{textAlign:"center",fontWeight:"bold"}},{values:[null].concat(Object(jt.a)(a.createFilterInputsv2(n))),disabled:!0}],i=a.props.entitiesData.entities,s=n.idField,l=a.props.currentPage,c=0;c<i.length;c++){for(var u=i[c],p=[10*l+c+1],d=0;d<n.elements.length;d++){var m=n.elements[d],h=m.id,f=null!=m.entityReferenceClass,y=u[h];if(m.type&&y){if("number"==m.type)y=M(y);else if("img"==m.type&&0==m.multiple)y=r.a.createElement("img",{width:"60",height:"60",alt:g+y,src:g+y});else if("img"==m.type&&1==m.multiple){var v=y.split("~")[0];y=r.a.createElement("img",{width:"60",height:"60",src:g+v})}else if("date"==m.type){var b=new Date(y).toDateString();y=r.a.createElement(Z,{text:b})}else f&&(y=y[m.optionItemName]);if(y.constructor==String){var E=y.toString();E.length>50&&(y=E.substr(0,50)+"....")}}p.push(y)}o.push({identifier:u[s],values:p,handleDelete:a.handleDelete,handleEdit:a.handleEdit,disabled:1==t.disabled})}return o},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.focusActiveId()}},{key:"render",value:function(){var e=this.props.entitiesData,t=this.props.entityConfig;return null==e||null==t||null==e.entities?r.a.createElement(Tt,null):r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{className:"entity-container"},r.a.createElement("div",{style:{backgroundColor:"white",margin:"10px"}}," "),r.a.createElement(Bt,{buttonsData:this.createNavButtons(),goToPage:this.goToPage,currentPage:this.props.currentPage}),r.a.createElement("div",{className:"entityForm"},r.a.createElement(Ft,{app:this.props.app,updateEntity:this.props.updateEntity,removeManagedEntity:this.props.removeManagedEntity,managedEntity:this.props.managedEntity,entityProperty:this.props.entityProperty,entityConfig:t})),r.a.createElement(Rt,{rows:this.getEntityDataTableRowData()})))}}]),t}(n.Component);function At(e){return r.a.createElement(L,{orientation:"vertical",buttonsData:[{status:"outline-secondary btn-xs no-border",onClick:function(){e.app.setOrderBy(e.id,"asc")},text:r.a.createElement("i",{className:"fa fa-angle-up","aria-hidden":"true"})},{status:"outline-secondary btn-xs no-border",onClick:function(){e.app.setOrderBy(e.id,"desc")},text:r.a.createElement("i",{className:"fa fa-angle-down","aria-hidden":"true"})}]})}function Ut(e){var t=e.filter[i+"-day"],a=e.filter[i+"-month"],n=e.filter[i+"-year"],o=e.app,i=e.id,s={width:"60px",fontSize:"0.7em"},l=r.a.createElement(ge,{style:s,value:t,id:i+"-day_filter_id",onKeyUp:o.handleFilterChange,key:"input_field_d"+I(),placeholder:"day"}),c=r.a.createElement(ge,{style:s,value:a,id:i+"-month_filter_id",onKeyUp:o.handleFilterChange,key:"input_field_m"+I(),placeholder:"month"}),u=r.a.createElement(ge,{style:s,value:n,id:i+"-year_filter_id",onKeyUp:o.handleFilterChange,key:"input_field_y"+I(),placeholder:"year"});return r.a.createElement(be,{items:[l,c,u]})}var qt=function(e){for(var t=e.elements,a=[],n=0;n<t.length;n++){var r=t[n].lableName;a.push(r)}return a.push("OPTION"),a};function Rt(e){return r.a.createElement("div",{className:"entity-list-container"},r.a.createElement(R,{style:{width:"100%",margin:"5px"},rows:e.rows}))}function Bt(e){var t=e.buttonsData,a=new Array;a.push({onClick:function(){e.goToPage(e.currentPage+-1)},text:"previous"});for(var n=function(n){t[n].onClick=function(){e.goToPage(t[n].value)},t[n].value==e.currentPage?t[n].status="info btn-sm":t[n].status="outline-info btn-sm",t[n].text=t[n].text,a.push(t[n])},o=0;o<t.length;o++)n(o);a.push({onClick:function(){e.goToPage(e.currentPage+1)},text:"next"});return r.a.createElement(L,{style:{width:"min-content",paddingTop:"15px",margin:"10px"},buttonsData:a})}var Kt=Lt,Yt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={entityList:[],currentPage:0,entityConfig:null},a.validateLoginStatus=function(){1!=a.props.loginStatus&&a.props.history.push("/login")},a.refresh=function(){a.getEntityInPage(a.state.entityConfig,a.state.currentPage)},a.loadEntityManagement=function(e){a.props.removeManagedEntity(),a.setState({currentPage:0,entityConfig:e}),a.props.getEntities({entityName:e.entityName,page:0,limit:10,entityConfig:e},a.props.app),a.props.getEntityProperty(e.entityName,a.props.app)},a.getEntityInPage=function(e,t){a.setState({currentPage:t});var n={entityName:e.entityName,page:t,limit:10,entityConfig:e,fieldsFilter:e.filter,orderBy:e.orderBy,orderType:e.orderType};console.log("REQUEST: ",n),a.props.getEntities(n,a.props.app)},a.checkIfCurrentMenuName=function(e){return!(!a.state.entityConfig||!a.props.entitiesData.entityConfig)&&(a.state.entityConfig.entityName==e||a.props.entitiesData.entityConfig.entityName==e)},a.getTabMenusData=function(){if(null==a.props.entityConfigList)return[];for(var e=a.props.entityConfigList,t=[],n=function(n){var r=e[n];t.push({text:r.label,active:a.checkIfCurrentMenuName(r.entityName),onClick:function(){a.loadEntityManagement(r)}})},r=0;r<e.length;r++)n(r);return!a.state.entityConfig&&e.length>0&&a.loadEntityManagement(e[0]),t},a.updateEntity=function(e,t,n){var r=Object(d.a)(Object(d.a)(a));a.props.app.confirmDialog("Are you sure will update "+e+"?",function(a){var o="addNew"==n;r.props.updateEntity({entityName:e,entity:t,isNewRecord:o},r,function(e){e.callbackHandleUpdate()})},function(e){})},a.getEntityById=function(e,t){a.props.getEntityById(e,t,a.props.app)},a.removeManagedEntity=function(){a.props.removeManagedEntity()},a.callbackHandleUpdate=function(){a.refresh(),a.removeManagedEntity()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.validateLoginStatus()}},{key:"componentWillMount",value:function(){this.validateLoginStatus(),document.title="Management",this.props.setMenuCode("management"),this.props.getManagementMenus(this.props.app)}},{key:"render",value:function(){var e=this.props.entitiesData?this.props.entitiesData.entities:[];null==e&&(e=[]);var t=this.getTabMenusData();return r.a.createElement("div",{className:"section-container"},r.a.createElement(k,{iconClass:"fas fa-database",title:"Master Data "+(this.props.entityProperty?this.props.entityProperty.alias:""),description:"manage master data"}),r.a.createElement("div",{className:"management-container"},r.a.createElement(Ne,{tabsData:t}),this.props.entityProperty?r.a.createElement(Kt,{currentPage:this.state.currentPage,app:this.props.app,getEntityInPage:this.getEntityInPage,entityConfig:this.props.entitiesData.entityConfig,entitiesData:this.props.entitiesData,managedEntity:this.props.managedEntity,getEntityById:this.getEntityById,removeManagedEntity:this.removeManagedEntity,updateEntity:this.updateEntity,entityProperty:this.props.entityProperty}):r.a.createElement(Tt,null)))}}]),t}(n.Component),Vt=Object(we.a)(Object(b.b)(function(e){return{entitiesData:e.managementState.entitiesData,managedEntity:e.managementState.managedEntity,entityProperty:e.managementState.entityProperty,entityConfigList:e.managementState.managementMenus}},function(e){return{getEntities:function(t,a){return e(function(e,t){return t.startLoading(),{type:"get_entity",payload:{entity:e.entityName,filter:{limit:e.limit,page:e.page,fieldsFilter:e.fieldsFilter,orderBy:e.orderBy,orderType:e.orderType}},meta:{type:"get_entity",url:G.concat("get"),app:t,entityConfig:e.entityConfig}}}(t,a))},getEntityProperty:function(t,a){return e(function(e,t){return t.startLoading(),{type:"get_entity_config",payload:{entity:e},meta:{type:"get_entity_config",url:G.concat("config"),app:t}}}(t,a))},getEntityById:function(t,a,n){var r=function(e,t,a){return a.startLoading(),{type:"get_entity_by_id",payload:{entity:e,filter:{limit:1,page:0,exacts:!0,contains:!1,fieldsFilter:{id:t}}},meta:{type:"get_entity_by_id",url:G.concat("get"),app:a}}}(t,a,n);e(r)},removeManagedEntity:function(){return e({type:"rm_mng_entity",payload:{},meta:{type:"rm_mng_entity"}})},updateEntity:function(t,a,n){return e(function(e,t,a){t.props.app.startLoading();var n={type:"update_entity",payload:{entity:e.entityName},meta:{type:"update_entity",url:e.isNewRecord?G.concat("add"):G.concat("update"),app:t.props.app,callback:a,referer:t}};return n.payload[e.entityName]=e.entity,n}(t,a,n))},getManagementMenus:function(t){return e(function(e){return e.startLoading(),{type:"GET_MANAGEMENT_MENUS",payload:{},meta:{type:"GET_MANAGEMENT_MENUS",url:G.concat("managementpages"),app:e}}}(t))}}})(Yt)),Jt=(a(235),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={firstLoad:!0,detail:!1},a.showCartList=function(e){a.setState({detail:!0})},a.hideCartList=function(e){a.setState({detail:!1})},a.handleClick=function(e){a.props.onClick&&a.props.onClick()},a.caculateTotalPrice=function(){for(var e=0,t=a.props.cart,n=0;n<t.length;n++)null!=t[n].product&&(e+=t[n].product.price*t[n].count);return M(e)+",-"},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){console.debug("Cart Info updated")}},{key:"render",value:function(){if(!this.props.enableShopping)return r.a.createElement(r.a.Fragment,null);for(var e=this.props.cart,t=this.caculateTotalPrice(),a=0,n=0;n<e.length;n++){a+=e[n].count}return r.a.createElement("div",{onClick:this.handleClick,onMouseOver:this.showCartList,onMouseLeave:this.hideCartList,className:"cart-info"},r.a.createElement(Wt,{detail:this.state.detail,count:a,totalPrice:t}))}}]),t}(n.Component));function Wt(e){return e.detail?r.a.createElement("h3",{style:{paddingLeft:"5px"}},"See Detail"):r.a.createElement("div",null,r.a.createElement(Z,{text:r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-shopping-cart"}),"Listed Product")}),r.a.createElement("span",{style:{margin:"5px"},className:"quantity-label"},e.count),r.a.createElement("span",{style:{margin:"5px",color:"yellow",backgroundColor:"blue"},className:"quantity-label"},e.totalPrice))}var Gt=Object(b.b)(function(e){return{cart:e.shopState.cart}},function(e){return{}})(Jt),zt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(){},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App-header",style:{color:this.props.applicationProfile.color}},this.props.showOptionButton?r.a.createElement("button",{style:{position:"fixed",left:"0"},onClick:this.props.showMenu,className:"btn"},r.a.createElement("i",{className:"fa fa-align-justify"}),"  "):r.a.createElement("button",{style:{position:"fixed",left:"0"},onClick:this.props.hideMenu,className:"btn"},r.a.createElement("i",{className:"fa fa-angle-double-left"}),"  "),r.a.createElement("h2",null,this.props.applicationProfile.name))}}]),t}(n.Component),Ht=Object(b.b)(function(e){return{applicationProfile:e.userState.applicationProfile}})(zt);function Qt(e){return r.a.createElement("div",{className:"modal-backdrop",style:{backgroundColor:"rgba(100,100,100,0.7)"}})}function Xt(e){return r.a.createElement("div",{className:"modal-body"},e.content)}function Zt(e){return r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",onClick:e.onOk,className:"btn btn-primary"},"Ok"),e.yesOnly?null:r.a.createElement("button",{type:"button",onClick:e.onNo,className:"btn btn-secondary"},"No"))}function $t(e){return r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalCenterTitle"},e.title),r.a.createElement("button",{onClick:e.onClose,type:"button",className:"close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))}var ea=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onOk=function(e){a.props.onOk&&a.props.onOk(e)},a.onNo=function(e){a.props.onNo&&a.props.onNo(e)},a.onClose=function(e){a.props.onClose&&a.props.onClose(e)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.title?this.props.title:"Info",t=1==this.props.yesOnly;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qt,null),r.a.createElement("div",{className:"modal fade show",style:{display:"block"},id:"exampleModalCenter",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement($t,{title:e,onClose:this.onClose}),r.a.createElement(Xt,{content:this.props.message}),r.a.createElement(Zt,{yesOnly:t,onOk:this.onOk,onNo:this.onNo})))))}}]),t}(n.Component),ta=function(e){},aa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={menus:[],detailMode:!1,menuCode:"",loading:!1,loadingPercentage:0,requestId:null,enableShopping:!1,mainAppUpdated:new Date,hideSidebar:!0},a.loadings=0,a.alertCallback={title:"Info",message:"Info",yesOnly:!1,onOk:function(){},onNo:function(){}},a.setDetailMode=function(e){a.setState({detailMode:e})},a.setMenuCode=function(e){a.setState({menuCode:e})},a.refresh=function(){a.setState({mainAppUpdated:new Date})},a.setEnableShopping=function(e){a.setState({enableShopping:e})},a.logout=function(){var e=Object(d.a)(Object(d.a)(a));a.confirmDialog("Are you sure to logout?",function(t){e.props.performLogout(e)},ta)},a.handleMenuCLick=function(e){switch(e.code){case j:a.logout()}},a.requestAppId=function(){a.props.requestAppId(Object(d.a)(Object(d.a)(a)))},a.incrementLoadings=function(){this.loadings++},a.decrementLoadings=function(){this.loadings--,this.loadings<0&&(this.loadings=0)},a.startLoading=function(e){a.incrementLoadings(),a.setState({loading:!0,realtime:e})},a.endLoading=function(){a.decrementLoadings(),0==a.loadings&&a.setState({loading:!1,loadingPercentage:0})},a.handleMessage=function(e){var t=Math.floor(e.percentage);(e.percentage<0||e.percentage>100)&&a.endLoading(),a.setState({loadingPercentage:t})},a.mainContent=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,null,r.a.createElement(Y.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(N,{app:Object(d.a)(Object(d.a)(a)),applicationProfile:a.props.applicationProfile,setMenuCode:a.setMenuCode})}}),r.a.createElement(Y.a,{exact:!0,path:"/home",render:function(e){return r.a.createElement(N,{app:Object(d.a)(Object(d.a)(a)),applicationProfile:a.props.applicationProfile,setMenuCode:a.setMenuCode})}}),r.a.createElement(Y.a,{exact:!0,path:"/suppliers",render:function(e){return r.a.createElement(dt,{app:Object(d.a)(Object(d.a)(a)),setMenuCode:a.setMenuCode})}}),r.a.createElement(Y.a,{exact:!0,path:"/chatroom",render:function(e){return r.a.createElement(St,{app:Object(d.a)(Object(d.a)(a)),setMenuCode:a.setMenuCode})}}),r.a.createElement(Y.a,{exact:!0,path:"/about",render:function(e){return r.a.createElement(B,{app:Object(d.a)(Object(d.a)(a)),applicationProfile:a.props.applicationProfile,setMenuCode:a.setMenuCode})}}),r.a.createElement(Y.a,{exact:!0,path:"/catalog",render:function(e){return r.a.createElement(Ce,{app:Object(d.a)(Object(d.a)(a)),enableShopping:a.state.enableShopping,setMenuCode:a.setMenuCode,setDetailMode:a.setDetailMode,detailMode:a.state.detailMode})}}),r.a.createElement(Y.a,{exact:!0,path:"/cart",render:function(e){return r.a.createElement(wt,{enableShopping:a.state.enableShopping,app:Object(d.a)(Object(d.a)(a)),setMenuCode:a.setMenuCode})}}),r.a.createElement(Y.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(ke,{setMenuCode:a.setMenuCode,app:Object(d.a)(Object(d.a)(a))})}}),r.a.createElement(Y.a,{exact:!0,path:"/dashboard",render:function(e){return r.a.createElement(lt,{app:Object(d.a)(Object(d.a)(a)),loginStatus:a.props.loginStatus,setMenuCode:a.setMenuCode})}}),r.a.createElement(Y.a,{exact:!0,path:"/management",render:function(e){return r.a.createElement(Vt,{app:Object(d.a)(Object(d.a)(a)),loginStatus:a.props.loginStatus,setMenuCode:a.setMenuCode})}})))},a.alertDialog=function(e,t,n,r,o){a.alertCallback.yesOnly=n,a.alertCallback.onOk=r,a.alertCallback.onNo=o,a.alertCallback.message=e,a.alertCallback.title=t,a.setState({showInfo:!0})},a.infoDialog=function(e){a.alertDialog(e,"Info",!0,ta,ta)},a.confirmDialog=function(e,t,n){a.alertDialog(e,"Confirmation",!1,t,n)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.requestId!=this.state.requestId&&(this.setState({requestId:this.props.requestId}),this.props.refreshLogin()),this.props.applicationProfile&&this.updateIcon(this.props.applicationProfile)}},{key:"updateIcon",value:function(e){if(e.iconUrl){var t=document.querySelector('link[rel="shortcut icon"]')||document.querySelector('link[rel="icon"]');t||((t=document.createElement("link")).id="favicon",t.rel="shortcut icon",document.head.appendChild(t)),t.href=g+"/"+e.iconUrl}}},{key:"componentDidMount",value:function(){this.requestAppId(),this.setState({loadingPercentage:0})}},{key:"setMenus",value:function(){for(var e=this.props.menus?this.props.menus:[],t=new Array,a=0;a<e.length;a++){var n=e[a],r=1!=this.props.loginStatus&&1==n.authenticated,o=!this.state.enableShopping&&"cart"==n.code;r||(o||t.push(n))}return t}},{key:"render",value:function(){var e=this;if(!this.state.requestId)return r.a.createElement(Pe,{realtime:!1,text:"Please wait...",type:"loading"});var t=this.setMenus(),a=f(),n=this.props.applicationProfile,o=1==this.state.hideSidebar,i=o?"col-12":"col-10";return r.a.createElement("div",{className:"App"},r.a.createElement(ra,{realtime:this.state.realtime,loading:this.state.loading,loadingPercentage:this.state.loadingPercentage}),r.a.createElement(na,{showInfo:this.state.showInfo,alertData:this.alertCallback,hideInfo:function(){return e.setState({showInfo:!1})}}),r.a.createElement(Gt,{mainAppUpdated:this.state.mainAppUpdated,enableShopping:this.state.enableShopping}),r.a.createElement(Ht,{showOptionButton:o,hideMenu:function(){e.setState({hideSidebar:!0})},showMenu:function(){e.setState({hideSidebar:!1})},applicationProfile:n}),r.a.createElement("div",{className:"row",id:"main-layout"},o?null:r.a.createElement("div",{id:"main-menu",className:"col-2",style:{backgroundColor:n.color}},r.a.createElement("button",{style:{float:"right",margin:"5px",color:n.fontColor},className:"btn",onClick:function(){e.setState({hideSidebar:!0})}},r.a.createElement("i",{className:"fa fa-angle-double-left"})),r.a.createElement(w,{alertDialog:this.alertDialog,handleMenuCLick:this.handleMenuCLick,activeCode:this.state.menuCode,menus:t})),r.a.createElement("div",{id:"main-content",className:i},r.a.createElement(this.mainContent,null))),r.a.createElement(gt.a,{url:a+"realtime-app",topics:["/wsResp/progress/"+localStorage.getItem("requestId")],onMessage:function(t){e.handleMessage(t)},ref:function(t){e.clientRef=t}}),r.a.createElement(ht,{applicationProfile:this.props.applicationProfile}))}}]),t}(n.Component);function na(e){if(e.showInfo){var t=e.alertData;return r.a.createElement(ea,{title:t.title,message:t.message,onOk:function(a){t.onOk&&t.onOk(a),e.hideInfo()},yesOnly:t.yesOnly,onNo:function(a){t.onNo&&t.onNo(a),e.hideInfo()},onClose:function(t){e.hideInfo()}})}return null}function ra(e){return 1==e.loading?r.a.createElement(Pe,{realtime:e.realtime,progress:e.loadingPercentage,text:"Please wait...",type:"loading"}):null}var oa=Object(V.a)(Object(b.b)(function(e){return{entities:e.shopState.entities,loginStatus:e.userState.loginStatus,menus:e.userState.menus,requestId:e.userState.requestId,applicationProfile:e.userState.applicationProfile,cart:e.shopState.cart}},function(e){return{performLogout:function(t){return e(function(e){return e.startLoading(),{type:"do_logout",payload:{},meta:{app:e,type:"do_logout",url:z.concat("logout")}}}(t))},requestAppId:function(t){return e(function(e){return e.startLoading(),{type:"req_ID",payload:{},meta:{app:e,type:"req_ID",url:W.concat("requestid")}}}(t))},refreshLogin:function(){return e({type:"refresh_login",payload:{},meta:{type:"refresh_login"}})}}})(aa)),ia=a(27),sa={catalogData:{},entities:[],entity:{},categories:[],suppliersData:[],requestId:null,messages:null,userAlias:"anonymous_"+(new Date).getTime(),cart:[]},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_product_list":return Object(T.a)({},e,{catalogData:t.payload});case"fetch_product_detail":return Object(T.a)({},e,{entity:t.payload.entities[0]});case"remove_shop_entity":return Object(T.a)({},e,{entity:t.payload});case"fetch_supplier_list":return Object(T.a)({},e,{suppliersData:t.payload});case"reset_suppliers":return Object(T.a)({},e,{suppliersData:{}});case"load_more_supplier":for(var a=e.entity,n=t.payload.entities,r=0;r<n.length;r++)a.suppliers.push(n[r]);return console.info("additinal suppliers: ",a.suppliers),t.referrer.refresh(),Object(T.a)({},e,{entity:a});case"all_product_categories":return Object(T.a)({},e,{categories:t.payload.entities});case"send_message":return Object(T.a)({},e,{messages:t.payload.entities,userAlias:t.payload.username});case"store_message":case"GET_MESSAGE":return Object(T.a)({},e,{messages:t.payload.entities});case"update_cart":return t.payload.app&&t.payload.app.refresh(),Object(T.a)({},e,{cart:t.payload.cart});default:return e}},ca=[{code:"home",name:"Home",url:"home",menuClass:"fa fa-home",active:!1,authenticated:!1},{code:"catalog",name:"Catalog",url:"catalog",menuClass:"fa fa-store-alt",active:!1,authenticated:!1},{code:"about",name:"About",url:"about",menuClass:"fa fa-address-book",active:!1,authenticated:!1},{code:"supplierlist",name:"Our Supplier",url:"suppliers",menuClass:"fas fa-warehouse",active:!1,authenticated:!1},{code:"chatroom",name:"Chat Room",url:"chatroom",menuClass:"fas fa-comments",active:!1,authenticated:!1},{code:"cart",name:"My Cart",url:"cart",menuClass:"fa fa-shopping-cart",active:!1,authenticated:!1},{code:"login",name:"Login",url:"login",menuClass:"fas fa-sign-in-alt",active:!1,authenticated:!1},{code:"dashboard",name:"Dashboard",url:"dashboard",menuClass:"fas fa-tachometer-alt",active:!1,authenticated:!0},{code:"management",name:"Management",url:"management",menuClass:"fa fa-database",active:!1,authenticated:!0},{code:"logout",name:"Logout",url:"#",menuClass:"fas fa-sign-out-alt",active:!1,authenticated:!0}],ua={loginKey:null,loginStatus:!1,loginFailed:!1,menus:ca,loggedUser:null,loginAttempt:!1,requestId:null,applicationProfile:{}},pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0,a=new Array;if(t.payload)for(var n=t.payload&&1==t.payload.loginStatus,r=0;r<ca.length;r++){var o=ca[r];n&&"login"==o.code||(0==o.authenticated?a.push(o):n&&a.push(o))}switch(t.type){case"req_ID":return i=Object(T.a)({},e,{requestId:t.payload.message,applicationProfile:t.payload.applicationProfile}),localStorage.setItem("requestId",i.requestId),1!=t.payload.loggedIn?(i.loginStatus=!1,i.loggedUser=null,localStorage.removeItem("loginKey"),localStorage.removeItem("loggedUser")):t.payload.sessionData?(i.loggedUser=t.payload.sessionData.user,i.loginStatus=t.payload.loggedIn,i.loginKey=localStorage.getItem("loginKey"),localStorage.setItem("loggedUser",JSON.stringify(i.loggedUser))):(i.loginStatus=!1,i.loggedUser=null,localStorage.removeItem("loginKey"),localStorage.removeItem("loggedUser")),console.debug("o o o result.loginStatus:",i.loginStatus),i;case"do_login":var i=Object(T.a)({},e,{loginAttempt:!0,loginStatus:t.payload.loginStatus,loginKey:t.payload.loginKey,loginFailed:0==t.payload.loginStatus,menus:a,loggedUser:t.payload.loggedUser});return 1==i.loginStatus&&localStorage.setItem("loginKey",i.loginKey),i;case"do_logout":return i=Object(T.a)({},e,{loginStatus:t.payload.loginStatus,menus:a,loggedUser:null}),localStorage.removeItem("loginKey"),localStorage.removeItem("loggedUser"),i;case"refresh_login":return i=Object(T.a)({},e,{loginStatus:t.payload.loginStatus,menus:a,loggedUser:t.payload.loggedUser,requestId:t.payload.requestId});case"get_logged_user":return i=Object(T.a)({},e,{loggedUser:t.payload.data}),localStorage.setItem("loggedUser",JSON.stringify(t.payload)),i;default:return t.payload&&null!=t.payload.loginStatus?Object(T.a)({},e,{menus:a}):Object(T.a)({},e)}},da=(a(237),{productFlowStock:null,products:null,transactionData:null,successTransaction:!1,customersData:null,productsData:null,cashflowInfoOut:null,cashflowInfoIn:null,cashflowDetail:null,productSalesData:null,productSalesDetails:null,transactionYears:[(new Date).getFullYear(),(new Date).getFullYear()]}),ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(null!=t&&null!=t.payload&&null!=t.payload.transactionYears&&(e.transactionYears=t.payload.transactionYears),t.type){case"get_stock_info":var a=Object(T.a)({},e,{productFlowStock:t.payload.entities[0]});return a;case"submit_purchase":case"submit_supply":return Object(T.a)({},e,{transactionData:t.payload.transaction,successTransaction:!0});case"reset_purchase":return Object(T.a)({},e,{productFlowStock:null,transactionData:null,successTransaction:!1,customersData:null,productsData:null});case"fetch_cust_list":return Object(T.a)({},e,{customersData:t.payload.entities});case"RESET_CUSTOMERS":return Object(T.a)({},e,{customersData:null});case"fetch_product_list":return Object(T.a)({},e,{productsData:t.payload.entities});case"reset_products":return Object(T.a)({},e,{productsData:null});case"get_cashflow":return a=e,"OUT"==t.payload.entity.module&&(a.cashflowInfoOut=t.payload.entity),"IN"==t.payload.entity.module&&(a.cashflowInfoIn=t.payload.entity),a;case"get_cashflow_detail":return Object(T.a)({},e,{cashflowDetail:t.payload});case"get_product_sales":var n=t.payload;if(1==t.loadMore){n=e.productSalesData;for(var r=t.payload.entities,o=0;o<r.length;o++)n.entities.push(r[o])}return console.log("will update currentProductSalesData: ",n.entities.length),a=Object(T.a)({},e,{productSalesData:n}),t.referrer.refresh(),a;case"get_product_stocks":return Object(T.a)({},e,{products:t.payload.entities});case"RESET_PRODUCT_STOCKS":return Object(T.a)({},e,{products:null});case"get_product_Sales_detail":return Object(T.a)({},e,{productSalesDetails:t.payload});default:return Object(T.a)({},e)}},ha={entitiesData:{entityConfig:null},managedEntity:null,entityProperty:null,managementMenus:[]},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_entity":return Object(T.a)({},e,{entitiesData:t.payload});case"get_entity_by_id":return Object(T.a)({},e,{managedEntity:t.payload.entities[0]});case"update_entity":return e;case"rm_mng_entity":return Object(T.a)({},e,{managedEntity:null});case"get_entity_config":return Object(T.a)({},e,{entityProperty:t.payload});case"GET_MANAGEMENT_MENUS":return Object(T.a)({},e,{managementMenus:t.payload.generalList});default:return e}},ga=Object(ia.c)({shopState:la,userState:pa,transactionState:ma,managementState:fa}),ya={shopState:sa,userState:ua,transactionState:da,managementState:ha},va=a(78),ba=function(){return{"Content-Type":"application/json",requestId:Ea(),loginKey:localStorage.getItem("loginKey")}},Ea=function(){return localStorage.getItem("requestId")},Sa=function(e){return function(t){return function(a){if(!a.meta||"do_login"!==a.meta.type)return t(a);var n=a.meta.app;fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return Promise.all([e.json(),e])}).then(function(t){var n=Object(va.a)(t,2),r=n[0],o=n[1],i="",s=!1;if(null!=r.code&&"00"==r.code){var l=!0,c=!1,u=void 0;try{for(var p,d=o.headers.entries()[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var m=p.value;if("loginkey"==m[0]){i=m[1];break}}}catch(f){c=!0,u=f}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}console.log("loginKey: ",i),s=!0}var h=Object.assign({},a,{payload:{loginStatus:s,loginKey:i,loggedUser:r.entity}});delete h.meta,e.dispatch(h)}).catch(function(e){console.log(e)}).finally(function(e){n.endLoading()})}}},Oa=function(e){return function(t){return function(a){if(!a.meta||"req_ID"!==a.meta.type)return t(a);var n=ba();fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:n}).then(function(e){return e.json()}).then(function(t){if(console.debug("Request App Id Middleware Response:",t),"00"==t.code){var n=Object.assign({},a,{payload:Object(T.a)({loginStatus:t.loggedIn},t)});delete n.meta,e.dispatch(n)}else alert("Error requesting app ID")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Ca=function(e){return function(t){return function(a){if(!a.meta||"get_logged_user"!==a.meta.type)return t(a);var n=ba();fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:n}).then(function(e){return e.json()}).then(function(t){if(console.debug("getLoggedUserMiddleware Response:",t),t){var n=Object.assign({},a,{payload:{data:t}});delete n.meta,e.dispatch(n)}else alert("Error performing request")}).catch(function(e){return console.log(e)}).finally(function(e){a.meta.app.endLoading(),a.meta.app.refresh()})}}},wa=function(e){return function(t){return function(a){if(!a.meta||"refresh_login"!==a.meta.type)return t(a);var n=null;localStorage.getItem("loggedUser")&&(n=JSON.parse(localStorage.getItem("loggedUser")));var r=Object.assign({},a,{payload:{loginStatus:!!n,loginKey:localStorage.getItem("loginKey"),loggedUser:n,requestId:Ea()}});delete r.meta,e.dispatch(r)}}},ja=function(e){return function(t){return function(a){if(!a.meta||"do_logout"!==a.meta.type)return t(a);var n=a.meta.app;fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}}).then(function(e){return Promise.all([e.json(),e])}).then(function(t){var n=Object(va.a)(t,2),r=n[0],o=(n[1],!1);"00"==r.code?o=!0:alert("Logout Failed");var i=Object.assign({},a,{payload:{loginStatus:!o}});delete i.meta,e.dispatch(i)}).catch(function(e){console.log(e)}).finally(function(e){return n.endLoading()})}}},Da=function(e){return function(t){return function(a){if(!a.meta||"GET_ENTITY_WITH_CALLBACK"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){if(null!=t.entities&&0!=t.entities.length){a.meta.callback(t,a.meta.referer);var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data not found!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},ka=function(e){return function(t){return function(a){if(!a.meta||"update_entity"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response updateEntityMiddleware:",t),"00"==t.code){alert("Update Success!");var n=a.meta.callback,r=a.meta.referer,o=Object.assign({},a,{payload:t});delete o.meta,e.dispatch(o),n(r)}else alert("Error Update Entity!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Na=function(e){return function(t){return function(a){if(!a.meta||"get_entity_by_id"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response:",t),null!=t.entities&&0!=t.entities.length){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data not found!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},xa=function(e){return function(t){return function(a){if(!a.meta||"get_entity"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){console.debug("Response:",t),null==t.entities&&(t.entities=[]),t.entityConfig=a.meta.entityConfig;var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Ia=function(e){return function(t){return function(a){if(!a.meta||"get_entity_config"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){if(null!=t){console.debug("Response:",t);var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Error requesting EntityProperty")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Ma=function(e){return function(t){return function(a){if(!a.meta||"GET_MANAGEMENT_MENUS"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){if(null!=t){console.debug("Response:",t);var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Error requesting getManagementMenus")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Pa=function(e){return function(t){return function(a){if(!a.meta||"rm_mng_entity"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:a.payload});delete n.meta,e.dispatch(n)}}},_a=function(e){return function(t){return function(a){if(!a.meta||"GET_MESSAGE"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId")}}).then(function(e){return e.json()}).then(function(t){console.debug("sendChatMessageMiddleware Response:",t);var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Fa=function(e){return function(t){return function(a){if(!a.meta||"send_message"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId")}}).then(function(e){return e.json()}).then(function(t){console.debug("sendChatMessageMiddleware Response:",t),t.username=a.payload.username;var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Ta=function(e){return function(t){return function(a){if(!a.meta||"store_message"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:a.payload});delete n.meta,e.dispatch(n)}}},La=function(e){return function(t){return function(a){if(!a.meta||"fetch_product_list"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response:",t),null!=t.entities&&0!=t.entities.length){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data not found!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Aa=function(e){return function(t){return function(a){if(!a.meta||"fetch_product_detail"!==a.meta.type)return t(a);var n=a.meta.app;fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response:",t),null!=t.entities&&0!=t.entities.length){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data not found!")}).catch(function(e){return console.log(e)}).finally(function(e){return n.endLoading()})}}},Ua=function(e){return function(t){return function(a){if(!a.meta||"load_more_supplier"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response:",t),null!=t.entities&&0!=t.entities.length){var n=Object.assign({},a,{payload:t,referrer:a.meta.referrer});delete n.meta,e.dispatch(n)}else alert("Data not found!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.referrer.props.app.endLoading()})}}},qa=function(e){return function(t){return function(a){if(!a.meta||"remove_shop_entity"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:null});delete n.meta,e.dispatch(n)}}},Ra=function(e){return function(t){return function(a){if(!a.meta||"fetch_supplier_list"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response:",t),null!=t.entities&&0!=t.entities.length){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data not found!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Ba=function(e){return function(t){return function(a){if(!a.meta||"all_product_categories"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ba()}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response:",t),null!=t.entities&&0!=t.entities.length){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data not found!")}).catch(function(e){return console.log(e)})}}},Ka=function(e){return function(t){return function(a){if(!a.meta||"update_cart"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:a.payload});delete n.meta,e.dispatch(n)}}},Ya=function(){return ba()},Va=function(e){return function(t){return function(a){if(!a.meta||"get_product_stocks"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"POST",body:JSON.stringify(a.payload),headers:Ya()}).then(function(e){return e.json()}).then(function(t){if(console.debug("getProductStocksMiddleware Response:",t,"load more:",a.meta.loadMore),"00"==t.code){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data not found")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Ja=function(e){return function(t){return function(a){if(!a.meta||"get_product_Sales_detail"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"POST",body:JSON.stringify(a.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}}).then(function(e){return e.json()}).then(function(t){if(console.debug("getProductSalesDetailMiddleware Response:",t),"00"==t.code){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Server error")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Wa=function(e){return function(t){return function(a){if(!a.meta||"get_product_sales"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"POST",body:JSON.stringify(a.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}}).then(function(e){return e.json()}).then(function(t){if(console.debug("getProductSalesMiddleware Response:",t,"load more:",a.meta.loadMore),"00"==t.code){var n=Object.assign({},a,{payload:t,loadMore:a.meta.loadMore,referrer:a.meta.referrer});delete n.meta,e.dispatch(n)}else alert("Server error")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.referrer.props.app.endLoading()})}}},Ga=function(e){return function(t){return function(a){if(!a.meta||"get_cashflow_detail"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"POST",body:JSON.stringify(a.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}}).then(function(e){return e.json()}).then(function(t){if(console.debug("getCashflowDetailMiddleware Response:",t),"00"==t.code){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Server error")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},za=function(e){return function(t){return function(a){if(!a.meta||"get_cashflow"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"POST",body:JSON.stringify(a.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}}).then(function(e){return e.json()}).then(function(t){if(console.debug("getCashflowInfoMiddleware Response:",t),"00"==t.code)if(null!=t.entity){null==t.entity.amount&&(t.entity.amount=0,t.entity.count=0,console.log("DATA:",t));var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data for cashflow: "+a.payload.filter.module+" in "+a.payload.filter.month+"/"+a.payload.filter.year+" period not found!");else alert("Server error")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Ha=function(e){return function(t){return function(a){if(!a.meta||"fetch_product_list"!==a.meta.type)return t(a);if(null==a.payload.filter.fieldsFilter.name||""==a.payload.filter.fieldsFilter.name.trim()){var n=Object.assign({},a,{payload:{entities:[]}});delete n.meta,e.dispatch(n)}else fetch(a.meta.url,{method:"POST",body:JSON.stringify(a.payload),headers:Ya()}).then(function(e){return e.json()}).then(function(t){if(console.debug("getProductListTrxMiddleware Response:",t),null!=t.entities&&0!=t.entities.length){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data not found!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Qa=function(e){return function(t){return function(a){if(!a.meta||"fetch_cust_list"!==a.meta.type)return t(a);if(null==a.payload.filter.fieldsFilter.name||""==a.payload.filter.fieldsFilter.name.trim()){var n=Object.assign({},a,{payload:{entities:[]}});delete n.meta,e.dispatch(n)}else fetch(a.meta.url,{method:"POST",body:JSON.stringify(a.payload),headers:Ya()}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response:",t),null!=t.entities&&0!=t.entities.length){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data not found!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},Xa=function(e){return function(t){return function(a){if(!a.meta||"RESET_PRODUCT_STOCKS"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:null});delete n.meta,e.dispatch(n)}}},Za=function(e){return function(t){return function(a){if(!a.meta||"RESET_CUSTOMERS"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:null});delete n.meta,e.dispatch(n)}}},$a=function(e){return function(t){return function(a){if(!a.meta||"reset_products"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:null});delete n.meta,e.dispatch(n)}}},en=function(e){return function(t){return function(a){if(!a.meta||"reset_suppliers"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:null});delete n.meta,e.dispatch(n)}}},tn=function(e){return function(t){return function(a){if(!a.meta||"reset_purchase"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:null});delete n.meta,e.dispatch(n)}}},an=function(e){return function(t){return function(a){if(!a.meta||"submit_supply"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"POST",body:JSON.stringify(a.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response:",t),"00"==t.code){alert("Transaction Success!"),t.transaction.productFlows=a.payload.productFlows;var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Transaction Failed!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},nn=function(e){return function(t){return function(a){if(!a.meta||"submit_purchase"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"POST",body:JSON.stringify(a.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response:",t),"00"==t.code){alert("Transaction Success!"),t.transaction.productFlows=a.payload.productFlows;var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Transaction Failed!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},rn=function(e){return function(t){return function(a){if(!a.meta||"get_stock_info"!==a.meta.type)return t(a);fetch(a.meta.url,{method:"POST",body:JSON.stringify(a.payload),headers:{"Content-Type":"application/json",requestId:localStorage.getItem("requestId"),loginKey:localStorage.getItem("loginKey")}}).then(function(e){return e.json()}).then(function(t){if(console.debug("Response:",t),null!=t.entities&&0!=t.entities.length){var n=Object.assign({},a,{payload:t});delete n.meta,e.dispatch(n)}else alert("Data not found!")}).catch(function(e){return console.log(e)}).finally(function(e){return a.meta.app.endLoading()})}}},on=function(){return Object(ia.d)(ga,ya,Object(ia.a)(La,Aa,qa,Ua,Ba,Ra,Ka,Sa,ja,wa,Oa,Ca,rn,nn,an,tn,Qa,Ha,za,Ga,Wa,$a,en,Za,Va,Xa,Ja,xa,Na,ka,Pa,Da,Ia,Ma,Fa,Ta,_a))},sn=a(377),ln=function(e){var t=on();return r.a.createElement(b.a,{store:t},r.a.createElement(sn.a,null,r.a.createElement(oa,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ln,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[143,2,1]]]);
//# sourceMappingURL=main.7b9f4a2a.chunk.js.map